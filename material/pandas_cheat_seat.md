document.write('<link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-825b1ce98abb.css">')
document.write('<div id=\"gist45431302\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container\">\n  <div id=\"file-pandas-cheat-sheet-md\" class=\"file my-2\">\n      <div id=\"file-pandas-cheat-sheet-md-readme\" class=\"Box-body readme blob js-code-block-container p-5 p-xl-6 \">\n    <article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><p dir=\"auto\">[TOC]<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Preliminaries/Import<\/h1><a id=\"user-content-preliminariesimport\" class=\"anchor\" aria-label=\"Permalink: Preliminaries/Import\" href=\"#preliminariesimport\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">numpy<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">np<\/span>\n<span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">matplotlib<\/span>.<span class=\"pl-s1\">pyplot<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">plt<\/span>\n<span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">pd<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-v\">DataFrame<\/span>, <span class=\"pl-v\">Series<\/span>\n\n<span class=\"pl-c1\">%<\/span><span class=\"pl-s1\">matplotlib<\/span> <span class=\"pl-s1\">inline<\/span>\n<span class=\"pl-c1\">%<\/span><span class=\"pl-s1\">load_ext<\/span> <span class=\"pl-s1\">autoreload<\/span>\n<span class=\"pl-c1\">%<\/span><span class=\"pl-s1\">autoreload<\/span> <span class=\"pl-c1\">2<\/span>\n\n<span class=\"pl-c\"># from __future__ import division<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">import_file<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-c1\">*<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">helpers<\/span>.<span class=\"pl-s1\">parallel_helper<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-c1\">*<\/span>\n<span class=\"pl-en\">load_libs<\/span>()<\/pre><\/div>\n<pre><code># normal\nimport numpy as np\nimport pandas as pd\nimport time\nimport warnings\nwarnings.filterwarnings(\'ignore\')\nfrom __future__ import division # allows float division\n\n\n# plotting\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.tools as tls\nimport seaborn as sns\n\n\n# with user code\nimport sys\nsys.path.append(\'../shared/\')\nimport plotting\nimport utils\nimport skutils\n\n\n# plotting\nfrom altair import *\n\n<\/code><\/pre>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Input/Output<\/h1><a id=\"user-content-inputoutput\" class=\"anchor\" aria-label=\"Permalink: Input/Output\" href=\"#inputoutput\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Input<\/h2><a id=\"user-content-input\" class=\"anchor\" aria-label=\"Permalink: Input\" href=\"#input\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">Internal<\/h3><a id=\"user-content-internal\" class=\"anchor\" aria-label=\"Permalink: Internal\" href=\"#internal\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<pre><code># From Dictionary\ndf = DataFrame({\n	\'col0\' : [1.0, 2.0, 3.0, 4.0],\n	\'col1\' : [100, 200, 300, 400]\n})\n\n# use helper method for data in rows\ndf = DataFrame.from_dict({ # data by row\n   # rows as python dictionaries\n	\'row0\' : {\'col0\':0, \'col1\':\'A\'},\n	\'row1\' : {\'col0\':1, \'col1\':\'B\'}\n	}, orient=\'index\')\ndf = DataFrame.from_dict({ # data by row\n   # rows as python lists\n	\'row0\' : [1, 1+1j, \'A\'],\n	\'row1\' : [2, 2+2j, \'B\']\n	}, orient=\'index\')\n\n\n# Testing\ndf = DataFrame(np.random.rand(50,5))\n\n# with a time-stamp row index:\ndf = DataFrame(np.random.rand(500,5))\ndf.index = pd.date_range(\'1/1/2005\',\nperiods=len(df), freq=\'M\')\n\n# with alphabetic row and col indexes and a \"groupable\" variable\nimport string\nimport random\nr = 52 # note: min r is 1; max r is 52\nc = 5\ndf = DataFrame(np.random.randn(r, c),\n	columns = [\'col\'+str(i) for i in range(c)],\n	index = list((string. ascii_uppercase+ string.ascii_lowercase)[0:r]))\n	df[\'group\'] = list(\'\'.join(random.choice(\'abcde\')\n	for _ in range(r)) )\n<\/code><\/pre>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">External<\/h3><a id=\"user-content-external\" class=\"anchor\" aria-label=\"Permalink: External\" href=\"#external\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">DataFrame<\/span>()\n\n<span class=\"pl-c\">#CSV<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_csv<\/span>(<span class=\"pl-s\">\'file.csv\'<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_csv<\/span>(<span class=\"pl-s\">\'file.csv\'<\/span>, <span class=\"pl-s1\">header<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>, <span class=\"pl-s1\">index_col<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>, <span class=\"pl-s1\">quotechar<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'\"\'<\/span>,<span class=\"pl-s1\">sep<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\':\'<\/span>, <span class=\"pl-s1\">na_values<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'na\'<\/span>, <span class=\"pl-s\">\'-\'<\/span>, <span class=\"pl-s\">\'.\'<\/span>, <span class=\"pl-s\">\'\'<\/span>])\n<span class=\"pl-c\"># specifying \".\" and \"NA\" as missing values in the Last Name column and \".\" as missing values in Pre-Test Score column<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_csv<\/span>(<span class=\"pl-s\">\'../data/example.csv\'<\/span>, <span class=\"pl-s1\">na_values<\/span><span class=\"pl-c1\">=<\/span>{<span class=\"pl-s\">\'Last Name\'<\/span>: [<span class=\"pl-s\">\'.\'<\/span>, <span class=\"pl-s\">\'NA\'<\/span>], <span class=\"pl-s\">\'Pre-Test Score\'<\/span>: [<span class=\"pl-s\">\'.\'<\/span>]}) \n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_csv<\/span>(<span class=\"pl-s\">\'../data/example.csv\'<\/span>, <span class=\"pl-s1\">na_values<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">sentinels<\/span>, <span class=\"pl-s1\">skiprows<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">3<\/span>)    <span class=\"pl-c\"># skipping the top 3 rows<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_csv<\/span>(<span class=\"pl-s\">\'../data/example.csv\'<\/span>, <span class=\"pl-s1\">thousands<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\',\'<\/span>)  <span class=\"pl-c\"># interpreting \",\" in strings around numbers as thousands separators<\/span>\n\n<span class=\"pl-c\"># CSV (Inline)<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">io<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-v\">StringIO<\/span>\n<span class=\"pl-s1\">data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s\">\"\"\", Animal, Cuteness, Desirable<\/span>\n<span class=\"pl-s\">row-1, dog, 8.7, True<\/span>\n<span class=\"pl-s\">row-2, cat, 9.5, True<\/span>\n<span class=\"pl-s\">row-3, bat, 2.6, False\"\"\"<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_csv<\/span>(<span class=\"pl-v\">StringIO<\/span>(<span class=\"pl-s1\">data<\/span>),\n	<span class=\"pl-s1\">header<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>, <span class=\"pl-s1\">index_col<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>,\n	<span class=\"pl-s1\">skipinitialspace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n\n<span class=\"pl-c\"># JSON<\/span>\n<span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">json<\/span>\n<span class=\"pl-s1\">json_data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">open<\/span>(<span class=\"pl-s\">\'data-text.json\'<\/span>).<span class=\"pl-en\">read<\/span>()\n<span class=\"pl-s1\">data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">json<\/span>.<span class=\"pl-en\">loads<\/span>(<span class=\"pl-s1\">json_data<\/span>)\n<span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">item<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">data<\/span>:\n    <span class=\"pl-k\">print<\/span> <span class=\"pl-s1\">item<\/span>\n\n<span class=\"pl-c\"># XML<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">xml<\/span>.<span class=\"pl-s1\">etree<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-v\">ElementTree<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-v\">ET<\/span>\n<span class=\"pl-s1\">tree<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">ET<\/span>.<span class=\"pl-en\">parse<\/span>(<span class=\"pl-s\">\'../../data/chp3/data-text.xml\'<\/span>)\n<span class=\"pl-s1\">root<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">tree<\/span>.<span class=\"pl-en\">getroot<\/span>()\n<span class=\"pl-k\">print<\/span> <span class=\"pl-s1\">root<\/span>\n<span class=\"pl-s1\">data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">root<\/span>.<span class=\"pl-en\">find<\/span>(<span class=\"pl-s\">\'Data\'<\/span>)\n<span class=\"pl-s1\">all_data<\/span> <span class=\"pl-c1\">=<\/span> []\n<span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">observation<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">data<\/span>:\n    <span class=\"pl-s1\">record<\/span> <span class=\"pl-c1\">=<\/span> {}\n    <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">item<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">observation<\/span>:\n        <span class=\"pl-s1\">lookup_key<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">item<\/span>.<span class=\"pl-s1\">attrib<\/span>.<span class=\"pl-en\">keys<\/span>()[<span class=\"pl-c1\">0<\/span>]\n        <span class=\"pl-k\">if<\/span> <span class=\"pl-s1\">lookup_key<\/span> <span class=\"pl-c1\">==<\/span> <span class=\"pl-s\">\'Numeric\'<\/span>:\n            <span class=\"pl-s1\">rec_key<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s\">\'NUMERIC\'<\/span>\n            <span class=\"pl-s1\">rec_value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">item<\/span>.<span class=\"pl-s1\">attrib<\/span>[<span class=\"pl-s\">\'Numeric\'<\/span>]\n        <span class=\"pl-k\">else<\/span>:\n            <span class=\"pl-s1\">rec_key<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">item<\/span>.<span class=\"pl-s1\">attrib<\/span>[<span class=\"pl-s1\">lookup_key<\/span>]\n            <span class=\"pl-s1\">rec_value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">item<\/span>.<span class=\"pl-s1\">attrib<\/span>[<span class=\"pl-s\">\'Code\'<\/span>]\n        <span class=\"pl-s1\">record<\/span>[<span class=\"pl-s1\">rec_key<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">rec_value<\/span>\n    <span class=\"pl-s1\">all_data<\/span>.<span class=\"pl-en\">append<\/span>(<span class=\"pl-s1\">record<\/span>)\n<span class=\"pl-k\">print<\/span> <span class=\"pl-s1\">all_data<\/span>\n\n<span class=\"pl-c\"># Excel<\/span>\n<span class=\"pl-s1\">workbook<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">ExcelFile<\/span>(<span class=\"pl-s\">\'file.xlsx\'<\/span>) \n<span class=\"pl-s1\">d<\/span> <span class=\"pl-c1\">=<\/span> {} <span class=\"pl-c\"># start with an empty dictionary<\/span>\n<span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">sheet_name<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">workbook<\/span>.<span class=\"pl-s1\">sheet_names<\/span>:   <span class=\"pl-c\"># Each Excel sheet in a Python dictionary<\/span>\n	<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">workbook<\/span>.<span class=\"pl-en\">parse<\/span>(<span class=\"pl-s1\">sheet_name<\/span>)\n	<span class=\"pl-s1\">d<\/span>[<span class=\"pl-s1\">sheet_name<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>\n\n<span class=\"pl-c\"># MySQL<\/span>\n<span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">pymysql<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">sqlalchemy<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">create_engine<\/span>\n<span class=\"pl-s1\">engine<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">create_engine<\/span>(<span class=\"pl-s\">\'mysql+pymysql://\'<\/span>\n<span class=\"pl-c1\">+<\/span><span class=\"pl-s\">\'USER:PASSWORD@HOST/DATABASE\'<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">read_sql_table<\/span>(<span class=\"pl-s\">\'table\'<\/span>, <span class=\"pl-s1\">engine<\/span>)\n(<span class=\"pl-c1\">&lt;<\/span><span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">href<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\"#top\"<\/span><span class=\"pl-c1\">&gt;<\/span><span class=\"pl-v\">Back<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">top<\/span><span class=\"pl-c1\">&lt;<\/span><span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">a<\/span><span class=\"pl-c1\">&gt;<\/span>)\n\n\n\n<span class=\"pl-c\">### Combine DataFrame<\/span>\n<span class=\"pl-v\">Data<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">then<\/span> <span class=\"pl-s1\">combine<\/span> <span class=\"pl-s1\">into<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">DataFrame<\/span>\n<span class=\"pl-s\">\`\`<\/span>\`<span class=\"pl-s1\">python<\/span>\n<span class=\"pl-c\"># Example 1 ...<\/span>\n<span class=\"pl-s1\">s1<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>(<span class=\"pl-en\">range<\/span>(<span class=\"pl-c1\">6<\/span>))\n<span class=\"pl-s1\">s2<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s1<\/span> <span class=\"pl-c1\">*<\/span> <span class=\"pl-s1\">s1<\/span>\n<span class=\"pl-s1\">s2<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s2<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">+<\/span> <span class=\"pl-c1\">2<\/span><span class=\"pl-c\"># misalign indexes<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">concat<\/span>([<span class=\"pl-s1\">s1<\/span>, <span class=\"pl-s1\">s2<\/span>], <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)\n<span class=\"pl-c\"># Example 2 ...<\/span>\n<span class=\"pl-s1\">s3<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>({<span class=\"pl-s\">\'Tom\'<\/span>:<span class=\"pl-c1\">1<\/span>, <span class=\"pl-s\">\'Dick\'<\/span>:<span class=\"pl-c1\">4<\/span>, <span class=\"pl-s\">\'Har\'<\/span>:<span class=\"pl-c1\">9<\/span>})\n<span class=\"pl-s1\">s4<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>({<span class=\"pl-s\">\'Tom\'<\/span>:<span class=\"pl-c1\">3<\/span>, <span class=\"pl-s\">\'Dick\'<\/span>:<span class=\"pl-c1\">2<\/span>, <span class=\"pl-s\">\'Mar\'<\/span>:<span class=\"pl-c1\">5<\/span>})\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">concat<\/span>({<span class=\"pl-s\">\'A\'<\/span>:<span class=\"pl-s1\">s3<\/span>, <span class=\"pl-s\">\'B\'<\/span>:<span class=\"pl-s1\">s4<\/span> }, <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Output<\/h2><a id=\"user-content-output\" class=\"anchor\" aria-label=\"Permalink: Output\" href=\"#output\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># CSV<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">to_csv<\/span>(<span class=\"pl-s\">\'name.csv\'<\/span>, <span class=\"pl-s1\">encoding<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'utf-8\'<\/span>)\n\n<span class=\"pl-c\"># Excel<\/span>\n\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-v\">ExcelWriter<\/span>\n<span class=\"pl-s1\">writer<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">ExcelWriter<\/span>(<span class=\"pl-s\">\'filename.xlsx\'<\/span>)\n<span class=\"pl-s1\">df1<\/span>.<span class=\"pl-en\">to_excel<\/span>(<span class=\"pl-s1\">writer<\/span>,<span class=\"pl-s\">\'Sheet1\'<\/span>)\n<span class=\"pl-s1\">df2<\/span>.<span class=\"pl-en\">to_excel<\/span>(<span class=\"pl-s1\">writer<\/span>,<span class=\"pl-s\">\'Sheet2\'<\/span>)\n<span class=\"pl-s1\">writer<\/span>.<span class=\"pl-en\">save<\/span>()\n\n<span class=\"pl-c\"># MySQL<\/span>\n<span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">pymysql<\/span>\n<span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">sqlalchemy<\/span> <span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">create_engine<\/span>\n<span class=\"pl-s1\">e<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">create_engine<\/span>(<span class=\"pl-s\">\'mysql+pymysql://\'<\/span> <span class=\"pl-c1\">+<\/span>\n	<span class=\"pl-s\">\'USER:PASSWORD@HOST/DATABASE\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">to_sql<\/span>(<span class=\"pl-s\">\'TABLE\'<\/span>,<span class=\"pl-s1\">e<\/span>, <span class=\"pl-s1\">if_exists<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'replace\'<\/span>)\n\n<span class=\"pl-c\"># Python object<\/span>\n<span class=\"pl-s1\">d<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">to_dict<\/span>() <span class=\"pl-c\"># to dictionary<\/span>\n<span class=\"pl-s1\">str<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">to_string<\/span>() <span class=\"pl-c\"># to string<\/span>\n<span class=\"pl-s1\">m<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">as_matrix<\/span>() <span class=\"pl-c\"># to numpy matrix<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Summary: Selecting using Index<\/h1><a id=\"user-content-summary-selecting-using-index\" class=\"anchor\" aria-label=\"Permalink: Summary: Selecting using Index\" href=\"#summary-selecting-using-index\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Select columns<\/h2><a id=\"user-content-select-columns\" class=\"anchor\" aria-label=\"Permalink: Select columns\" href=\"#select-columns\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Using the DataFrame index to select columns<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col_label\'<\/span>]  <span class=\"pl-c\"># returns Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'col_label\'<\/span>]] <span class=\"pl-c\"># return DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'L1\'<\/span>, <span class=\"pl-s\">\'L2\'<\/span>]] <span class=\"pl-c\"># select with list<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">index<\/span>] <span class=\"pl-c\"># select with index<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">s<\/span>] <span class=\"pl-c\">#select with Series<\/span><\/pre><\/div>\n<p dir=\"auto\">Note: the difference in return type with the first two\nexamples above based on argument type (scalar vs list).<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[:,:<span class=\"pl-c1\">2<\/span>] <span class=\"pl-c\"># Select the first 2 columns<\/span>\n<span class=\"pl-s1\">feature_cols<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'TV\'<\/span>,<span class=\"pl-s\">\'Radio\'<\/span>,<span class=\"pl-s\">\'Newspaper\'<\/span>]\n<span class=\"pl-s1\">x<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">data<\/span>[<span class=\"pl-s1\">feature_cols<\/span>]\n<span class=\"pl-s1\">data<\/span>[[<span class=\"pl-s\">\'TV\'<\/span>,<span class=\"pl-s\">\'Radio\'<\/span>,<span class=\"pl-s\">\'Newspaper\'<\/span>]]\n\n<span class=\"pl-c\"># by column labels<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[:,[<span class=\"pl-s\">\'A\'<\/span>,<span class=\"pl-s\">\'B\'<\/span>]]  <span class=\"pl-c\"># syntax is: df.loc[rows_index, cols_index]<\/span>\n<span class=\"pl-c\"># conditional<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">like<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'data\'<\/span>)\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'preTestScore\'<\/span>].<span class=\"pl-en\">where<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'postTestScore\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">50<\/span>) <span class=\"pl-c\"># Find where a value exists in a column<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Select rows<\/h2><a id=\"user-content-select-rows\" class=\"anchor\" aria-label=\"Permalink: Select rows\" href=\"#select-rows\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Using the DataFrame index to select rows<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'from\'<\/span>:<span class=\"pl-s\">\'inc_to\'<\/span>]<span class=\"pl-c\"># label slice<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">3<\/span>:<span class=\"pl-c1\">7<\/span>] <span class=\"pl-c\"># integer slice<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">0.5<\/span>]<span class=\"pl-c\"># Boolean Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s\">\'label\'<\/span>] <span class=\"pl-c\"># single label<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s1\">container<\/span>] <span class=\"pl-c\"># lab list/Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s\">\'from\'<\/span>:<span class=\"pl-s\">\'to\'<\/span>]<span class=\"pl-c\"># inclusive slice<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s1\">bs<\/span>] <span class=\"pl-c\"># Boolean Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">0<\/span>] <span class=\"pl-c\"># single integer<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-s1\">container<\/span>] <span class=\"pl-c\"># int list/Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">0<\/span>:<span class=\"pl-c1\">5<\/span>] <span class=\"pl-c\"># exclusive slice<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-s1\">x<\/span>] <span class=\"pl-c\"># loc then iloc<\/span>\n\n<span class=\"pl-c\"># by index<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[:<span class=\"pl-c1\">2<\/span>] <span class=\"pl-c\"># rows by row number<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">2<\/span>] <span class=\"pl-c\"># Select the second and third row<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">2<\/span>:] <span class=\"pl-c\"># Select every row after the third row<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">3<\/span>:<span class=\"pl-c1\">6<\/span>,<span class=\"pl-c1\">0<\/span>:<span class=\"pl-c1\">3<\/span>] <span class=\"pl-c\">#  <\/span>\n\n<span class=\"pl-c\"># by label<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[:<span class=\"pl-s\">\'Arizona\'<\/span>] <span class=\"pl-c\"># all rows by index label<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[[<span class=\"pl-s\">\'Arizona\'<\/span>, <span class=\"pl-s\">\'Texas\'<\/span>]]   <span class=\"pl-c\"># .ix is the combination of both .loc and .iloc. Integers are first considered labels,if not found, falls back on pos indexing<\/span>\n\n<span class=\"pl-c\"># conditional<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; C\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; 0\'<\/span>) \n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; 0 &amp; A &lt; 1\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; B | A &gt; C\'<\/span>)\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'coverage\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">50<\/span>] <span class=\"pl-c\"># all rows where coverage is more than 50<\/span>\n<span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'deaths\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">500<\/span>) <span class=\"pl-c1\">|<\/span> (<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'deaths\'<\/span>] <span class=\"pl-c1\">&lt;<\/span> <span class=\"pl-c1\">50<\/span>)]\n<span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'score\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">1<\/span>) <span class=\"pl-c1\">&amp;<\/span> (<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'score\'<\/span>] <span class=\"pl-c1\">&lt;<\/span> <span class=\"pl-c1\">5<\/span>)]\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">~<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'regiment\'<\/span>] <span class=\"pl-c1\">==<\/span> <span class=\"pl-s\">\'Dragoons\'<\/span>)] <span class=\"pl-c\"># Select all the regiments not named \"Dragoons\"<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'age\'<\/span>].<span class=\"pl-en\">notnull<\/span>() <span class=\"pl-c1\">&amp;<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'sex\'<\/span>].<span class=\"pl-en\">notnull<\/span>()]  <span class=\"pl-c\"># ignore the missing data points<\/span>\n\n<span class=\"pl-c\"># is in<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">name<\/span>.<span class=\"pl-en\">isin<\/span>(<span class=\"pl-s1\">value_list<\/span>)]   <span class=\"pl-c\"># value_list = [\'Tina\', \'Molly\', \'Jason\']<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">~<\/span><span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">name<\/span>.<span class=\"pl-en\">isin<\/span>(<span class=\"pl-s1\">value_list<\/span>)]\n\n<span class=\"pl-c\"># partial matching<\/span>\n<span class=\"pl-s1\">df2<\/span>[<span class=\"pl-s1\">df2<\/span>.<span class=\"pl-v\">E<\/span>.<span class=\"pl-s1\">str<\/span>.<span class=\"pl-en\">contains<\/span>(<span class=\"pl-s\">\"tw|ou\"<\/span>)]\n\n<span class=\"pl-c\"># Regex<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'raw\'<\/span>].<span class=\"pl-s1\">str<\/span>.<span class=\"pl-en\">contains<\/span>(<span class=\"pl-s\">\'....-..-..\'<\/span>, <span class=\"pl-s1\">regex<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)  <span class=\"pl-c\"># regex<\/span>\n\n<span class=\"pl-c\"># where cells are arrays<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'country\'<\/span>].<span class=\"pl-en\">map<\/span>(<span class=\"pl-k\">lambda<\/span> <span class=\"pl-s1\">country<\/span>: <span class=\"pl-s\">\'Syria\'<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">country<\/span>)]\n\n<span class=\"pl-c\"># take random columns<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">take<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">random<\/span>.<span class=\"pl-en\">permutation<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>))[:<span class=\"pl-c1\">2<\/span>])<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Select a cross-section<\/h2><a id=\"user-content-select-a-cross-section\" class=\"anchor\" aria-label=\"Permalink: Select a cross-section\" href=\"#select-a-cross-section\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Using the DataFrame index to select a cross-section<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># r and c can be scalar, list, slice<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>] <span class=\"pl-c\"># label accessor (row, col)<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>]<span class=\"pl-c\"># integer accessor<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>] <span class=\"pl-c\"># label access int fallback<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">c<\/span>].<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-s1\">r<\/span>]<span class=\"pl-c\"># chained – also for .loc<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Select a cell<\/h2><a id=\"user-content-select-a-cell\" class=\"anchor\" aria-label=\"Permalink: Select a cell\" href=\"#select-a-cell\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Using the DataFrame index to select a cell<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># r and c must be label or integer<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">at<\/span>[<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>] <span class=\"pl-c\"># fast scalar label accessor<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iat<\/span>[<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>] <span class=\"pl-c\"># fast scalar int accessor<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">c<\/span>].<span class=\"pl-s1\">iat<\/span>[<span class=\"pl-s1\">r<\/span>] <span class=\"pl-c\"># chained – also for .at<\/span>\n\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-s\">\'Arizona\'<\/span>, <span class=\"pl-c1\">2<\/span>]  <span class=\"pl-c\"># Select the third cell in the row named Arizona<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-c1\">2<\/span>, <span class=\"pl-s\">\'deaths\'<\/span>]  <span class=\"pl-c\"># Select the third cell down in the column named deaths<\/span>\n\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-s\">\'Yuma\'<\/span>, <span class=\"pl-s\">\'coverage\'<\/span>] <span class=\"pl-c\"># view the value based on a row and column<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">DataFrame indexing methods<\/h2><a id=\"user-content-dataframe-indexing-methods\" class=\"anchor\" aria-label=\"Permalink: DataFrame indexing methods\" href=\"#dataframe-indexing-methods\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">v<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">get_value<\/span>(<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>) <span class=\"pl-c\"># get by row, col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">set_value<\/span>(<span class=\"pl-s1\">r<\/span>,<span class=\"pl-s1\">c<\/span>,<span class=\"pl-s1\">v<\/span>)<span class=\"pl-c\"># set by row, col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">xs<\/span>(<span class=\"pl-s1\">key<\/span>, <span class=\"pl-s1\">axis<\/span>) <span class=\"pl-c\"># get cross-section<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">items<\/span>, <span class=\"pl-s1\">like<\/span>, <span class=\"pl-s1\">regex<\/span>, <span class=\"pl-s1\">axis<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">select<\/span>(<span class=\"pl-s1\">crit<\/span>, <span class=\"pl-s1\">axis<\/span>)<\/pre><\/div>\n<p dir=\"auto\"><strong>Note<\/strong>: the indexing attributes (.loc, .iloc, .ix, .at .iat) can\nbe used to get and set values in the DataFrame.<\/p>\n<p dir=\"auto\"><strong>Note<\/strong>: the .loc, iloc and .ix indexing attributes can accept\npython slice objects. But .at and .iat do not.<\/p>\n<p dir=\"auto\"><strong>Note<\/strong>: .loc can also accept Boolean Series arguments<\/p>\n<p dir=\"auto\"><strong>Avoid<\/strong>: chaining in the form df[col_indexer][row_indexer]<\/p>\n<p dir=\"auto\"><strong>Trap<\/strong>: label slices are inclusive, integer slices exclusive.<\/p>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Some index attributes and methods<\/h2><a id=\"user-content-some-index-attributes-and-methods\" class=\"anchor\" aria-label=\"Permalink: Some index attributes and methods\" href=\"#some-index-attributes-and-methods\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># --- some Index attributes<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-s1\">is_monotonic_decreasing<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-s1\">is_monotonic_increasing<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-s1\">has_duplicates<\/span>\n<span class=\"pl-s1\">i<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-s1\">nlevels<\/span> <span class=\"pl-c\"># num of index levels<\/span>\n<span class=\"pl-c\"># --- some Index methods<\/span>\n<span class=\"pl-s1\">idx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s1\">dtype<\/span>)<span class=\"pl-c\"># change data type<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-en\">equals<\/span>(<span class=\"pl-s1\">o<\/span>) <span class=\"pl-c\"># check for equality<\/span>\n<span class=\"pl-s1\">idx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-en\">union<\/span>(<span class=\"pl-s1\">o<\/span>) <span class=\"pl-c\"># union of two indexes<\/span>\n<span class=\"pl-s1\">i<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-en\">nunique<\/span>() <span class=\"pl-c\"># number unique labels<\/span>\n<span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-en\">min<\/span>() <span class=\"pl-c\"># minimum label<\/span>\n<span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>.<span class=\"pl-en\">max<\/span>() <span class=\"pl-c\"># maximum label<\/span><\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Whole DataFrame<\/h1><a id=\"user-content-whole-dataframe\" class=\"anchor\" aria-label=\"Permalink: Whole DataFrame\" href=\"#whole-dataframe\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Content/Structure<\/h2><a id=\"user-content-contentstructure\" class=\"anchor\" aria-label=\"Permalink: Content/Structure\" href=\"#contentstructure\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Peek at the DataFrame contents/structure<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">info<\/span>() <span class=\"pl-c\"># index &amp; data types<\/span>\n<span class=\"pl-s1\">dfh<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">head<\/span>(<span class=\"pl-s1\">i<\/span>) <span class=\"pl-c\"># get first i rows<\/span>\n<span class=\"pl-s1\">dft<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">tail<\/span>(<span class=\"pl-s1\">i<\/span>) <span class=\"pl-c\"># get last i rows<\/span>\n<span class=\"pl-s1\">dfs<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">describe<\/span>() <span class=\"pl-c\"># summary stats cols<\/span>\n<span class=\"pl-s1\">top_left_corner_df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[:<span class=\"pl-c1\">4<\/span>, :<span class=\"pl-c1\">4<\/span>]\n<span class=\"pl-s1\">data<\/span>.<span class=\"pl-en\">tail<\/span>().<span class=\"pl-en\">transpose<\/span>()<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Non-indexing attributes<\/h2><a id=\"user-content-non-indexing-attributes\" class=\"anchor\" aria-label=\"Permalink: Non-indexing attributes\" href=\"#non-indexing-attributes\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">DataFrame non-indexing attributes<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">dfT<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-v\">T<\/span> <span class=\"pl-c\"># transpose rows and cols<\/span>\n<span class=\"pl-s1\">l<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">axes<\/span> <span class=\"pl-c\"># list row and col indexes<\/span>\n(<span class=\"pl-s1\">r<\/span>, <span class=\"pl-s1\">c<\/span>) <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">axes<\/span> <span class=\"pl-c\"># from above<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">dtypes<\/span> <span class=\"pl-c\"># Series column data types<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">empty<\/span> <span class=\"pl-c\"># True for empty DataFrame<\/span>\n<span class=\"pl-s1\">i<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ndim<\/span> <span class=\"pl-c\"># number of axes (it is 2)<\/span>\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">shape<\/span> <span class=\"pl-c\"># (row-count, column-count)<\/span>\n<span class=\"pl-s1\">i<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">size<\/span> <span class=\"pl-c\"># row-count * column-count<\/span>\n<span class=\"pl-s1\">a<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">values<\/span> <span class=\"pl-c\"># get a numpy array for df<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Utilities<\/h2><a id=\"user-content-utilities\" class=\"anchor\" aria-label=\"Permalink: Utilities\" href=\"#utilities\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">DataFrame utility methods<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">copy<\/span>() <span class=\"pl-c\"># copy a DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">rank<\/span>() <span class=\"pl-c\"># rank each col (default)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort<\/span>([<span class=\"pl-s\">\'sales\'<\/span>], <span class=\"pl-s1\">ascending<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-c1\">False<\/span>]) \n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort_values<\/span>(<span class=\"pl-s1\">by<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">col<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort_values<\/span>(<span class=\"pl-s1\">by<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s1\">col1<\/span>, <span class=\"pl-s1\">col2<\/span>])\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort_index<\/span>()\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s1\">dtype<\/span>) <span class=\"pl-c\"># type conversion<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Iterations<\/h2><a id=\"user-content-iterations\" class=\"anchor\" aria-label=\"Permalink: Iterations\" href=\"#iterations\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">DataFrame iteration methods<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">iteritems<\/span>()<span class=\"pl-c\"># (col-index, Series) pairs<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">iterrows<\/span>() <span class=\"pl-c\"># (row-index, Series) pairs<\/span>\n<span class=\"pl-c\"># example ... iterating over columns<\/span>\n<span class=\"pl-k\">for<\/span> (<span class=\"pl-s1\">name<\/span>, <span class=\"pl-s1\">series<\/span>) <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">iteritems<\/span>():\n	<span class=\"pl-en\">print<\/span>(<span class=\"pl-s\">\'Col name: \'<\/span> <span class=\"pl-c1\">+<\/span> <span class=\"pl-en\">str<\/span>(<span class=\"pl-s1\">name<\/span>))\n	<span class=\"pl-en\">print<\/span>(<span class=\"pl-s\">\'First value: \'<\/span> <span class=\"pl-c1\">+<\/span>\n		<span class=\"pl-en\">str<\/span>(<span class=\"pl-s1\">series<\/span>.<span class=\"pl-s1\">iat<\/span>[<span class=\"pl-c1\">0<\/span>]) <span class=\"pl-c1\">+<\/span> <span class=\"pl-s\">\'<span class=\"pl-cce\">\\n<\/span>\'<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Maths<\/h2><a id=\"user-content-maths\" class=\"anchor\" aria-label=\"Permalink: Maths\" href=\"#maths\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Maths on the whole DataFrame (not a complete list)<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">abs<\/span>() <span class=\"pl-c\"># absolute values<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">add<\/span>(<span class=\"pl-s1\">o<\/span>) <span class=\"pl-c\"># add df, Series or value<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">count<\/span>() <span class=\"pl-c\"># non NA/null values<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">cummax<\/span>() <span class=\"pl-c\"># (cols default axis)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">cummin<\/span>() <span class=\"pl-c\"># (cols default axis)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">cumsum<\/span>() <span class=\"pl-c\"># (cols default axis)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">diff<\/span>() <span class=\"pl-c\"># 1st diff (col def axis)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">div<\/span>(<span class=\"pl-s1\">o<\/span>) <span class=\"pl-c\"># div by df, Series, value<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">dot<\/span>(<span class=\"pl-s1\">o<\/span>) <span class=\"pl-c\"># matrix dot product<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">max<\/span>() <span class=\"pl-c\"># max of axis (col def)<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">mean<\/span>() <span class=\"pl-c\"># mean (col default axis)<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">median<\/span>()<span class=\"pl-c\"># median (col default)<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">min<\/span>() <span class=\"pl-c\"># min of axis (col def)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">mul<\/span>(<span class=\"pl-s1\">o<\/span>) <span class=\"pl-c\"># mul by df Series val<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sum<\/span>() <span class=\"pl-c\"># sum axis (cols default)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">where<\/span>(<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">0.5<\/span>, <span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">nan<\/span>)<\/pre><\/div>\n<p dir=\"auto\">Note: The methods that return a series default to\nworking on columns.<\/p>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Select/filter<\/h2><a id=\"user-content-selectfilter\" class=\"anchor\" aria-label=\"Permalink: Select/filter\" href=\"#selectfilter\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">DataFrame select/filter rows/cols on label values<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">items<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s\">\'a\'<\/span>, <span class=\"pl-s\">\'b\'<\/span>]) <span class=\"pl-c\"># by col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">items<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-c1\">5<\/span>], <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>) <span class=\"pl-c\">#by row<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">like<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'x\'<\/span>) <span class=\"pl-c\"># keep x in col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">regex<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'x\'<\/span>) <span class=\"pl-c\"># regex in col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">select<\/span>(<span class=\"pl-k\">lambda<\/span> <span class=\"pl-s1\">x<\/span>: <span class=\"pl-c1\">not<\/span> <span class=\"pl-s1\">x<\/span><span class=\"pl-c1\">%<\/span><span class=\"pl-c1\">5<\/span>)<span class=\"pl-c\">#5th rows<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Columns<\/h1><a id=\"user-content-columns\" class=\"anchor\" aria-label=\"Permalink: Columns\" href=\"#columns\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Each DataFrame column is a pandas Series object<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Info<\/h2><a id=\"user-content-info\" class=\"anchor\" aria-label=\"Permalink: Info\" href=\"#info\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Index and labels<\/span>\n<span class=\"pl-s1\">idx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span> <span class=\"pl-c\"># get col index<\/span>\n<span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>[<span class=\"pl-c1\">0<\/span>] <span class=\"pl-c\"># first col label<\/span>\n<span class=\"pl-s1\">l<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>.<span class=\"pl-en\">tolist<\/span>() <span class=\"pl-c\"># list col labels<\/span>\n\n<span class=\"pl-c\"># Data type conversions<\/span>\n<span class=\"pl-s1\">st<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s1\">str<\/span>)<span class=\"pl-c\"># Series dtype<\/span>\n<span class=\"pl-s1\">a<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-s1\">values<\/span> <span class=\"pl-c\"># numpy array<\/span>\n<span class=\"pl-s1\">pl<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">tolist<\/span>() <span class=\"pl-c\"># python list<\/span>\n\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">useful<\/span> <span class=\"pl-s1\">dtypes<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">conversion<\/span>: <span class=\"pl-s1\">int<\/span>, <span class=\"pl-s1\">float<\/span>, <span class=\"pl-s1\">str<\/span>\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">lost<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">conversion<\/span> <span class=\"pl-s1\">from<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">array<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">list<\/span>\n\n<span class=\"pl-c\"># Common column-wide methods/attributes<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-s1\">dtype<\/span> <span class=\"pl-c\"># type of data<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-s1\">size<\/span> <span class=\"pl-c\"># col dimensions<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">count<\/span>()<span class=\"pl-c\"># non-NA count<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">sum<\/span>()\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">prod<\/span>()\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">min<\/span>()\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">max<\/span>()\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">mean<\/span>() <span class=\"pl-c\"># also median()<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">cov<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col2\'<\/span>])\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">describe<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">value_counts<\/span>()\n\n<span class=\"pl-c\"># Find index label for min/max values in column<\/span>\n<span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col1\'<\/span>].<span class=\"pl-en\">idxmin<\/span>()\n<span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col1\'<\/span>].<span class=\"pl-en\">idxmax<\/span>()\n\n<span class=\"pl-c\"># Common column element-wise methods<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">isnull<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">notnull<\/span>() <span class=\"pl-c\"># not isnull()<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s1\">float<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">abs<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">round<\/span>(<span class=\"pl-s1\">decimals<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">diff<\/span>(<span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">shift<\/span>(<span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">to_datetime<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">fillna<\/span>(<span class=\"pl-c1\">0<\/span>) <span class=\"pl-c\"># replace NaN w 0<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">cumsum<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">cumprod<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">pct_change<\/span>(<span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">4<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">rolling_sum<\/span>(<span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">4<\/span>, <span class=\"pl-s1\">window<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">4<\/span>)\n\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">also<\/span> <span class=\"pl-en\">rolling_min<\/span>(), <span class=\"pl-en\">rolling_max<\/span>(), <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">many<\/span> <span class=\"pl-s1\">more<\/span>.\n\n<span class=\"pl-c\"># Position of a column index label<\/span>\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Get<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">position<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">column<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">label<\/span>\n<span class=\"pl-s1\">j<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>.<span class=\"pl-en\">get_loc<\/span>(<span class=\"pl-s\">\'col_name\'<\/span>)\n\n<span class=\"pl-c\"># Column index values unique/monotonic<\/span>\n<span class=\"pl-k\">if<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>.<span class=\"pl-s1\">is_unique<\/span>: <span class=\"pl-k\">pass<\/span> <span class=\"pl-c\"># ...<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>.<span class=\"pl-s1\">is_monotonic_increasing<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>.<span class=\"pl-s1\">is_monotonic_decreasing<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Selecting<\/h2><a id=\"user-content-selecting\" class=\"anchor\" aria-label=\"Permalink: Selecting\" href=\"#selecting\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Columns<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'colName\'<\/span>] <span class=\"pl-c\"># select col to Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'colName\'<\/span>]] <span class=\"pl-c\"># select col to df<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>]] <span class=\"pl-c\"># select 2 or more<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'c\'<\/span>,<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>]]<span class=\"pl-c\"># change col order<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>[<span class=\"pl-c1\">0<\/span>]] <span class=\"pl-c\"># select by number<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>[[<span class=\"pl-c1\">0<\/span>, <span class=\"pl-c1\">3<\/span>, <span class=\"pl-c1\">4<\/span>]] <span class=\"pl-c\"># by number<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">pop<\/span>(<span class=\"pl-s\">\'c\'<\/span>) <span class=\"pl-c\"># get col &amp; drop from df<\/span>\n\n<span class=\"pl-c\"># Columns with Python attributes<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">a<\/span> <span class=\"pl-c\"># same as s = df[\'a\']<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">cannot<\/span> <span class=\"pl-s1\">create<\/span> <span class=\"pl-s1\">new<\/span> <span class=\"pl-s1\">columns<\/span> <span class=\"pl-s1\">by<\/span> <span class=\"pl-s1\">attribute<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">existing_column<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">a<\/span> <span class=\"pl-c1\">/<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">b<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'new_column\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">a<\/span> <span class=\"pl-c1\">/<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">b<\/span>\n\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">column<\/span> <span class=\"pl-s1\">names<\/span> <span class=\"pl-s1\">must<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">valid<\/span> <span class=\"pl-s1\">identifiers<\/span>.\n\n<span class=\"pl-c\"># Selecting columns with .loc, .iloc and .ix<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[:, <span class=\"pl-s\">\'col1\'<\/span>:<span class=\"pl-s\">\'col2\'<\/span>] <span class=\"pl-c\"># inclusive<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[:, <span class=\"pl-c1\">0<\/span>:<span class=\"pl-c1\">2<\/span>] <span class=\"pl-c\"># exclusive<\/span>\n\n<span class=\"pl-c\"># Conditional selection<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; C\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; 0\'<\/span>) \n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; 0 &amp; A &lt; 1\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">query<\/span>(<span class=\"pl-s\">\'A &gt; B | A &gt; C\'<\/span>)\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'coverage\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">50<\/span>] <span class=\"pl-c\"># all rows where coverage is more than 50<\/span>\n<span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'deaths\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">500<\/span>) <span class=\"pl-c1\">|<\/span> (<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'deaths\'<\/span>] <span class=\"pl-c1\">&lt;<\/span> <span class=\"pl-c1\">50<\/span>)]\n<span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'score\'<\/span>] <span class=\"pl-c1\">&gt;<\/span> <span class=\"pl-c1\">1<\/span>) <span class=\"pl-c1\">&amp;<\/span> (<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'score\'<\/span>] <span class=\"pl-c1\">&lt;<\/span> <span class=\"pl-c1\">5<\/span>)]\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">~<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'regiment\'<\/span>] <span class=\"pl-c1\">==<\/span> <span class=\"pl-s\">\'Dragoons\'<\/span>)] <span class=\"pl-c\"># Select all the regiments not named \"Dragoons\"<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'age\'<\/span>].<span class=\"pl-en\">notnull<\/span>() <span class=\"pl-c1\">&amp;<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'sex\'<\/span>].<span class=\"pl-en\">notnull<\/span>()]  <span class=\"pl-c\"># ignore the missing data points<\/span>\n\n<span class=\"pl-c\"># Is in<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">name<\/span>.<span class=\"pl-en\">isin<\/span>(<span class=\"pl-s1\">value_list<\/span>)]   <span class=\"pl-c\"># value_list = [\'Tina\', \'Molly\', \'Jason\']<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">~<\/span><span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">name<\/span>.<span class=\"pl-en\">isin<\/span>(<span class=\"pl-s1\">value_list<\/span>)]\n\n<span class=\"pl-c\"># Partial matching<\/span>\n<span class=\"pl-s1\">df2<\/span>[<span class=\"pl-s1\">df2<\/span>.<span class=\"pl-v\">E<\/span>.<span class=\"pl-s1\">str<\/span>.<span class=\"pl-en\">contains<\/span>(<span class=\"pl-s\">\"tw|ou\"<\/span>)]\n\n<span class=\"pl-c\"># Regex<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'raw\'<\/span>].<span class=\"pl-s1\">str<\/span>.<span class=\"pl-en\">contains<\/span>(<span class=\"pl-s\">\'....-..-..\'<\/span>, <span class=\"pl-s1\">regex<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)  <span class=\"pl-c\"># regex<\/span><\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Changing<\/h2><a id=\"user-content-changing\" class=\"anchor\" aria-label=\"Permalink: Changing\" href=\"#changing\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Rename column labels<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">rename<\/span>(<span class=\"pl-s1\">columns<\/span><span class=\"pl-c1\">=<\/span>{<span class=\"pl-s\">\'old1\'<\/span>:<span class=\"pl-s\">\'new1\'<\/span>,<span class=\"pl-s\">\'old2\'<\/span>:<span class=\"pl-s\">\'new2\'<\/span>}, <span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">rename<\/span> <span class=\"pl-s1\">multiple<\/span> <span class=\"pl-s1\">columns<\/span> <span class=\"pl-s1\">at<\/span> <span class=\"pl-s1\">once<\/span>.\n\n<span class=\"pl-c\"># Adding new columns to a DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'new_col\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">range<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>))\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'new_col\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">repeat<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">nan<\/span>,<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>))\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'random\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">random<\/span>.<span class=\"pl-en\">rand<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>))\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'index_as_col\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>\n<span class=\"pl-s1\">df1<\/span>[[<span class=\"pl-s\">\'b\'<\/span>,<span class=\"pl-s\">\'c\'<\/span>]] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df2<\/span>[[<span class=\"pl-s\">\'e\'<\/span>,<span class=\"pl-s\">\'f\'<\/span>]]\n<span class=\"pl-s1\">df3<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df1<\/span>.<span class=\"pl-en\">append<\/span>(<span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df2<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">__Trap__<\/span>: <span class=\"pl-v\">When<\/span> <span class=\"pl-s1\">adding<\/span> <span class=\"pl-s1\">an<\/span> <span class=\"pl-s1\">indexed<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-s1\">object<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">new<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">column<\/span>, <span class=\"pl-s1\">only<\/span> <span class=\"pl-s1\">items<\/span> <span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">new<\/span> <span class=\"pl-s1\">series<\/span> <span class=\"pl-s1\">that<\/span> <span class=\"pl-s1\">have<\/span> <span class=\"pl-s1\">a<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">corresponding<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-v\">DataFrame<\/span> <span class=\"pl-s1\">will<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">added<\/span>.\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">The<\/span> <span class=\"pl-s1\">receiving<\/span> <span class=\"pl-v\">DataFrame<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-c1\">not<\/span> <span class=\"pl-s1\">extended<\/span> <span class=\"pl-s1\">to<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">accommodate<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">new<\/span> <span class=\"pl-s1\">series<\/span>. <span class=\"pl-v\">To<\/span> <span class=\"pl-s1\">merge<\/span>, <span class=\"pl-s1\">see<\/span> <span class=\"pl-s1\">below<\/span>.\n\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">__Trap__<\/span>: <span class=\"pl-s1\">when<\/span> <span class=\"pl-s1\">adding<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">python<\/span> <span class=\"pl-s1\">list<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">numpy<\/span> <span class=\"pl-s1\">array<\/span>, <span class=\"pl-s1\">the<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">column<\/span> <span class=\"pl-s1\">will<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">added<\/span> <span class=\"pl-s1\">by<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">position<\/span>.\n\n\n<span class=\"pl-c\"># Vectorised arithmetic on columns<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'proportion\'<\/span>]<span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'count\'<\/span>]<span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'total\'<\/span>]\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'percent\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'proportion\'<\/span>] <span class=\"pl-c1\">*<\/span> <span class=\"pl-c1\">100.0<\/span>\n\n<span class=\"pl-c\"># Append a column of row sums to a DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'Total\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sum<\/span>(<span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)\n\n<span class=\"pl-c\"># Apply numpy mathematical functions to columns<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'log_data\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">log<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col1\'<\/span>])\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-v\">Many<\/span> <span class=\"pl-s1\">more<\/span> <span class=\"pl-s1\">numpy<\/span> <span class=\"pl-s1\">mathematical<\/span> <span class=\"pl-s1\">functions<\/span>.\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Hint<\/span>: <span class=\"pl-v\">Prefer<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-s1\">math<\/span> <span class=\"pl-s1\">over<\/span> <span class=\"pl-s1\">numpy<\/span> <span class=\"pl-s1\">where<\/span> <span class=\"pl-s1\">you<\/span> <span class=\"pl-s1\">can<\/span>.\n\n<span class=\"pl-c\"># Set column values set based on criteria<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'b\'<\/span>]<span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'a\'<\/span>].<span class=\"pl-en\">where<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'a\'<\/span>]<span class=\"pl-c1\">&gt;<\/span><span class=\"pl-c1\">0<\/span>,<span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>)\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'d\'<\/span>]<span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'a\'<\/span>].<span class=\"pl-en\">where<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">b<\/span><span class=\"pl-c1\">!=<\/span><span class=\"pl-c1\">0<\/span>,<span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">c<\/span>)\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">where<\/span> <span class=\"pl-s1\">other<\/span> <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">scalar<\/span>\n\n<span class=\"pl-c\"># Swapping<\/span>\n<span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'B\'<\/span>, <span class=\"pl-s\">\'A\'<\/span>]] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[[<span class=\"pl-s\">\'A\'<\/span>, <span class=\"pl-s\">\'B\'<\/span>]]\n\n<span class=\"pl-c\"># Dropping<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop<\/span>(<span class=\"pl-s\">\'col1\'<\/span>, <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop<\/span>(<span class=\"pl-s\">\'col1\'<\/span>, <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>, <span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop<\/span>([<span class=\"pl-s\">\'col1\'<\/span>,<span class=\"pl-s\">\'col2\'<\/span>], <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">pop<\/span>(<span class=\"pl-s\">\'col\'<\/span>) <span class=\"pl-c\"># drops from frame<\/span>\n<span class=\"pl-k\">del<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>] <span class=\"pl-c\"># even classic python works<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>[<span class=\"pl-c1\">0<\/span>], <span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n\n<span class=\"pl-c\"># drop columns with column names where the first three letters of the column names was \'pre\'<\/span>\n<span class=\"pl-s1\">cols<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s1\">c<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">c<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span> <span class=\"pl-k\">if<\/span> <span class=\"pl-s1\">c<\/span>.<span class=\"pl-en\">lower<\/span>()[:<span class=\"pl-c1\">3<\/span>] <span class=\"pl-c1\">!=<\/span> <span class=\"pl-s\">\'pre\'<\/span>]\n<span class=\"pl-s1\">df<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">cols<\/span>]\n\n<span class=\"pl-c\"># Multiply every column in DataFrame by Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">mul<\/span>(<span class=\"pl-s1\">s<\/span>, <span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>) <span class=\"pl-c\"># on matched rows<\/span>\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">also<\/span> <span class=\"pl-s1\">add<\/span>, <span class=\"pl-s1\">sub<\/span>, <span class=\"pl-s1\">div<\/span>, <span class=\"pl-s1\">etc<\/span>.<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Rows<\/h1><a id=\"user-content-rows\" class=\"anchor\" aria-label=\"Permalink: Rows\" href=\"#rows\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Info<\/h2><a id=\"user-content-info-1\" class=\"anchor\" aria-label=\"Permalink: Info\" href=\"#info-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Get Position<\/span>\n<span class=\"pl-s1\">a<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">where<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>] <span class=\"pl-c1\">&gt;=<\/span> <span class=\"pl-c1\">2<\/span>) <span class=\"pl-c\">#numpy array<\/span>\n\n<span class=\"pl-c\"># DataFrames have same row index  (Test if two DataFrames have same row index)<\/span>\n\n<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">a<\/span>)<span class=\"pl-c1\">==<\/span><span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">b<\/span>) <span class=\"pl-c1\">and<\/span> <span class=\"pl-en\">all<\/span>(<span class=\"pl-s1\">a<\/span>.<span class=\"pl-s1\">index<\/span><span class=\"pl-c1\">==<\/span><span class=\"pl-s1\">b<\/span>.<span class=\"pl-s1\">index<\/span>)     <span class=\"pl-c\"># Get the integer position of a row or col index label<\/span>\n<span class=\"pl-s1\">i<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-en\">get_loc<\/span>(<span class=\"pl-s\">\'row_label\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">index<\/span>.<span class=\"pl-en\">get_loc<\/span>() <span class=\"pl-s1\">returns<\/span> <span class=\"pl-s1\">an<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">unique<\/span> <span class=\"pl-s1\">match<\/span>. <span class=\"pl-v\">If<\/span> <span class=\"pl-c1\">not<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">unique<\/span> <span class=\"pl-s1\">match<\/span>, <span class=\"pl-s1\">may<\/span> <span class=\"pl-s1\">return<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">slice<\/span> <span class=\"pl-s1\">or<\/span> <span class=\"pl-s1\">mask<\/span>.\n\n<span class=\"pl-c\"># Row index values are unique/monotonic<\/span>\n<span class=\"pl-v\">Test<\/span> <span class=\"pl-k\">if<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">row<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">values<\/span> <span class=\"pl-s1\">are<\/span> <span class=\"pl-s1\">unique<\/span><span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">monotonic<\/span>\n<span class=\"pl-k\">if<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">is_unique<\/span>: <span class=\"pl-k\">pass<\/span> <span class=\"pl-c\"># ...<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">is_monotonic_increasing<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">is_monotonic_decreasing<\/span>\n\n<span class=\"pl-c\"># Get the row index and labels<\/span>\n<span class=\"pl-s1\">idx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>      <span class=\"pl-c\"># get row index<\/span>\n<span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>[<span class=\"pl-c1\">0<\/span>]    <span class=\"pl-c\"># 1st row label<\/span>\n<span class=\"pl-s1\">lst<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-en\">tolist<\/span>()     <span class=\"pl-c\"># get as a list<\/span><\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Change the (row) index<\/h2><a id=\"user-content-change-the-row-index\" class=\"anchor\" aria-label=\"Permalink: Change the (row) index\" href=\"#change-the-row-index\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>     <span class=\"pl-c\"># new ad hoc index<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">set_index<\/span>(<span class=\"pl-s\">\'A\'<\/span>)    <span class=\"pl-c\"># col A new index<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">set_index<\/span>([<span class=\"pl-s\">\'A\'<\/span>, <span class=\"pl-s\">\'B\'<\/span>])    <span class=\"pl-c\"># MultiIndex<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">reset_index<\/span>()   <span class=\"pl-c\"># replace old w new<\/span>\n\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">note<\/span>: <span class=\"pl-s1\">old<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">stored<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">col<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">range<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>)) <span class=\"pl-c\"># set with list<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">reindex<\/span>(<span class=\"pl-s1\">index<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-en\">range<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>)))\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">set_index<\/span>(<span class=\"pl-s1\">keys<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s\">\'r1\'<\/span>,<span class=\"pl-s\">\'r2\'<\/span>,<span class=\"pl-s\">\'etc\'<\/span>])\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">rename<\/span>(<span class=\"pl-s1\">index<\/span><span class=\"pl-c1\">=<\/span>{<span class=\"pl-s\">\'old\'<\/span>:<span class=\"pl-s\">\'new\'<\/span>},<span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Selecting<\/h2><a id=\"user-content-selecting-1\" class=\"anchor\" aria-label=\"Permalink: Selecting\" href=\"#selecting-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># By column values<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col2\'<\/span>] <span class=\"pl-c1\">&gt;=<\/span> <span class=\"pl-c1\">0.0<\/span>]\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col3\'<\/span>]<span class=\"pl-c1\">&gt;=<\/span><span class=\"pl-c1\">1.0<\/span>) <span class=\"pl-c1\">|<\/span> (<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col1\'<\/span>]<span class=\"pl-c1\">&lt;<\/span><span class=\"pl-c1\">0.0<\/span>)]\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">isin<\/span>([<span class=\"pl-c1\">1<\/span>,<span class=\"pl-c1\">2<\/span>,<span class=\"pl-c1\">5<\/span>,<span class=\"pl-c1\">7<\/span>,<span class=\"pl-c1\">11<\/span>])]\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">~<\/span><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">isin<\/span>([<span class=\"pl-c1\">1<\/span>,<span class=\"pl-c1\">2<\/span>,<span class=\"pl-c1\">5<\/span>,<span class=\"pl-c1\">7<\/span>,<span class=\"pl-c1\">11<\/span>])]\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-s1\">str<\/span>.<span class=\"pl-en\">contains<\/span>(<span class=\"pl-s\">\'hello\'<\/span>)]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">bitwise<\/span> <span class=\"pl-s\">\"or\"<\/span>, <span class=\"pl-s\">\"and\"<\/span> “<span class=\"pl-c1\">not<\/span>; (<span class=\"pl-s1\">ie<\/span>. <span class=\"pl-c1\">|<\/span> <span class=\"pl-c1\">&amp;<\/span> <span class=\"pl-c1\">~<\/span>) <span class=\"pl-s1\">co<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">opted<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-v\">Boolean<\/span> <span class=\"pl-s1\">operators<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-v\">Boolean<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">need<\/span> <span class=\"pl-s1\">parentheses<\/span> <span class=\"pl-s1\">around<\/span> <span class=\"pl-s1\">comparisons<\/span>.\n\n<span class=\"pl-c\"># Using isin over multiple columns<\/span>\n\n<span class=\"pl-c\">## fake up some data<\/span>\n<span class=\"pl-s1\">data<\/span> <span class=\"pl-c1\">=<\/span> {<span class=\"pl-c1\">1<\/span>:[<span class=\"pl-c1\">1<\/span>,<span class=\"pl-c1\">2<\/span>,<span class=\"pl-c1\">3<\/span>], <span class=\"pl-c1\">2<\/span>:[<span class=\"pl-c1\">1<\/span>,<span class=\"pl-c1\">4<\/span>,<span class=\"pl-c1\">9<\/span>], <span class=\"pl-c1\">3<\/span>:[<span class=\"pl-c1\">1<\/span>,<span class=\"pl-c1\">8<\/span>,<span class=\"pl-c1\">27<\/span>]}\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">DataFrame<\/span>(<span class=\"pl-s1\">data<\/span>)\n<span class=\"pl-c\"># multi-column isin<\/span>\n<span class=\"pl-s1\">lf<\/span> <span class=\"pl-c1\">=<\/span> {<span class=\"pl-c1\">1<\/span>:[<span class=\"pl-c1\">1<\/span>, <span class=\"pl-c1\">3<\/span>], <span class=\"pl-c1\">3<\/span>:[<span class=\"pl-c1\">8<\/span>, <span class=\"pl-c1\">27<\/span>]} <span class=\"pl-c\"># look for<\/span>\n<span class=\"pl-s1\">f<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-en\">list<\/span>(<span class=\"pl-s1\">lf<\/span>)].<span class=\"pl-en\">isin<\/span>(<span class=\"pl-s1\">lf<\/span>).<span class=\"pl-en\">all<\/span>(<span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)]\n<span class=\"pl-v\">Selecting<\/span> <span class=\"pl-s1\">rows<\/span> <span class=\"pl-s1\">using<\/span> <span class=\"pl-s1\">an<\/span> <span class=\"pl-s1\">index<\/span>\n<span class=\"pl-s1\">idx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>] <span class=\"pl-c1\">&gt;=<\/span> <span class=\"pl-c1\">2<\/span>].<span class=\"pl-s1\">index<\/span>\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-s1\">idx<\/span>])\n\n<span class=\"pl-c\"># Slice of rows by integer position<\/span>\n[<span class=\"pl-s1\">inclusive<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">from<\/span> : <span class=\"pl-s1\">exclusive<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">to<\/span> [: <span class=\"pl-s1\">step<\/span>]]\n<span class=\"pl-s1\">default<\/span> <span class=\"pl-s1\">start<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-c1\">0<\/span>; <span class=\"pl-s1\">default<\/span> <span class=\"pl-s1\">end<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[:] <span class=\"pl-c\"># copy DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">0<\/span>:<span class=\"pl-c1\">2<\/span>] <span class=\"pl-c\"># rows 0 and 1<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">-<\/span><span class=\"pl-c1\">1<\/span>:] <span class=\"pl-c\"># the last row<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-c1\">2<\/span>:<span class=\"pl-c1\">3<\/span>] <span class=\"pl-c\"># row 2 (the third row)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[:<span class=\"pl-c1\">-<\/span><span class=\"pl-c1\">1<\/span>] <span class=\"pl-c\"># all but the last row<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[::<span class=\"pl-c1\">2<\/span>] <span class=\"pl-c\"># every 2nd row (0 2 ..)<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">single<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">without<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">colon<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">column<\/span> <span class=\"pl-s1\">label<\/span> <span class=\"pl-s1\">for<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">numbered<\/span> <span class=\"pl-s1\">columns<\/span>.\n\n<span class=\"pl-c\"># Slice of rows by label/index<\/span>\n[<span class=\"pl-s1\">inclusive<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">from<\/span> : <span class=\"pl-s1\">inclusive<\/span>–<span class=\"pl-s1\">to<\/span> [ : <span class=\"pl-s1\">step<\/span>]]\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'a\'<\/span>:<span class=\"pl-s\">\'c\'<\/span>] <span class=\"pl-c\"># rows \'a\' through \'c\'<\/span>\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">doesn<\/span>\'<span class=\"pl-s1\">t<\/span> <span class=\"pl-s1\">work<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">labelled<\/span> <span class=\"pl-s1\">rows<\/span><\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Manipulating<\/h2><a id=\"user-content-manipulating\" class=\"anchor\" aria-label=\"Permalink: Manipulating\" href=\"#manipulating\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Adding rows<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">original_df<\/span>.<span class=\"pl-en\">append<\/span>(<span class=\"pl-s1\">more_rows_in_df<\/span>)\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Hint<\/span>: <span class=\"pl-s1\">convert<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">DataFrame<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">then<\/span> <span class=\"pl-s1\">append<\/span>. <span class=\"pl-v\">Both<\/span> <span class=\"pl-v\">DataFrames<\/span> <span class=\"pl-s1\">should<\/span> <span class=\"pl-s1\">have<\/span> <span class=\"pl-s1\">same<\/span> <span class=\"pl-s1\">column<\/span> <span class=\"pl-s1\">labels<\/span>.\n\n\n<span class=\"pl-c\"># Append a row of column totals to a DataFrame<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Option<\/span> <span class=\"pl-c1\">1<\/span>: <span class=\"pl-s1\">use<\/span> <span class=\"pl-s1\">dictionary<\/span> <span class=\"pl-s1\">comprehension<\/span>\n<span class=\"pl-s1\">sums<\/span> <span class=\"pl-c1\">=<\/span> {<span class=\"pl-s1\">col<\/span>: <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">col<\/span>].<span class=\"pl-en\">sum<\/span>() <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">col<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>}\n<span class=\"pl-s1\">sums_df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">DataFrame<\/span>(<span class=\"pl-s1\">sums<\/span>,<span class=\"pl-s1\">index<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s\">\'Total\'<\/span>])\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">append<\/span>(<span class=\"pl-s1\">sums_df<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Option<\/span> <span class=\"pl-c1\">2<\/span>: <span class=\"pl-v\">All<\/span> <span class=\"pl-s1\">done<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">pandas<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">append<\/span>(<span class=\"pl-v\">DataFrame<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sum<\/span>(),\n				<span class=\"pl-s1\">columns<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s\">\'Total\'<\/span>]).<span class=\"pl-v\">T<\/span>)\n\n<span class=\"pl-c\"># Dropping rows (by name)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop<\/span>(<span class=\"pl-s\">\'row_label\'<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop<\/span>([<span class=\"pl-s\">\'row1\'<\/span>,<span class=\"pl-s\">\'row2\'<\/span>]) <span class=\"pl-c\"># multi-row<\/span>\n\n<span class=\"pl-c\"># Drop duplicates in the row index<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'index\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c\"># 1 create new col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">drop_duplicates<\/span>(<span class=\"pl-s1\">cols<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'index\'<\/span>,<span class=\"pl-s1\">take_last<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)<span class=\"pl-c\"># 2 use new col<\/span>\n<span class=\"pl-s1\">del<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'index\'<\/span>] <span class=\"pl-c\"># 3 del the col<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort_index<\/span>(<span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)<span class=\"pl-c\"># 4 tidy up<\/span><\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Iterating over DataFrame rows<\/h2><a id=\"user-content-iterating-over-dataframe-rows\" class=\"anchor\" aria-label=\"Permalink: Iterating over DataFrame rows\" href=\"#iterating-over-dataframe-rows\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-k\">for<\/span> (<span class=\"pl-s1\">index<\/span>, <span class=\"pl-s1\">row<\/span>) <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">iterrows<\/span>(): <span class=\"pl-c\"># pass<\/span>\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">row<\/span> <span class=\"pl-s1\">data<\/span> <span class=\"pl-s1\">type<\/span> <span class=\"pl-s1\">may<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">coerced<\/span>.<\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Sorting<\/h2><a id=\"user-content-sorting\" class=\"anchor\" aria-label=\"Permalink: Sorting\" href=\"#sorting\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Rows values<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>[<span class=\"pl-c1\">0<\/span>], <span class=\"pl-s1\">ascending<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">False<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort<\/span>([<span class=\"pl-s\">\'col1\'<\/span>, <span class=\"pl-s\">\'col2\'<\/span>], <span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n\n<span class=\"pl-c\"># By row index<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort_index<\/span>(<span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>) <span class=\"pl-c\"># sort by row<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">sort_index<\/span>(<span class=\"pl-s1\">ascending<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">False<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">Random<\/h3><a id=\"user-content-random\" class=\"anchor\" aria-label=\"Permalink: Random\" href=\"#random\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Random selection of rows<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-k\">import<\/span> <span class=\"pl-s1\">random<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">r<\/span>\n<span class=\"pl-s1\">k<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-c1\">20<\/span> <span class=\"pl-c\"># pick a number<\/span>\n<span class=\"pl-s1\">selection<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">r<\/span>.<span class=\"pl-en\">sample<\/span>(<span class=\"pl-en\">range<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>)), <span class=\"pl-s1\">k<\/span>)\n<span class=\"pl-s1\">df_sample<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-s1\">selection<\/span>, :]<\/pre><\/div>\n<p dir=\"auto\">Note: this sample is not sorted<\/p>\n<p dir=\"auto\">Slice off the first k elements of the array returned by permutation, where k is the desired subset size<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">take<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">random<\/span>.<span class=\"pl-en\">permutation<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>))[:<span class=\"pl-c1\">3<\/span>])<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Cells<\/h1><a id=\"user-content-cells\" class=\"anchor\" aria-label=\"Permalink: Cells\" href=\"#cells\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Selecting<\/h2><a id=\"user-content-selecting-2\" class=\"anchor\" aria-label=\"Permalink: Selecting\" href=\"#selecting-2\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># By row and columnvalue = df.at[\'row\', \'col\']<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s\">\'row\'<\/span>, <span class=\"pl-s\">\'col\'<\/span>]\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-s1\">at<\/span>[<span class=\"pl-s\">\'row\'<\/span>] <span class=\"pl-c\"># tricky<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: .<span class=\"pl-s1\">at<\/span>[] <span class=\"pl-s1\">fastest<\/span> <span class=\"pl-s1\">label<\/span> <span class=\"pl-s1\">based<\/span> <span class=\"pl-s1\">scalar<\/span> <span class=\"pl-s1\">lookup<\/span>\n\n<span class=\"pl-c\"># By integer position<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iat<\/span>[<span class=\"pl-c1\">9<\/span>, <span class=\"pl-c1\">3<\/span>] <span class=\"pl-c\"># [row, col]<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">0<\/span>, <span class=\"pl-c1\">0<\/span>] <span class=\"pl-c\"># [row, col]<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>)<span class=\"pl-c1\">-<\/span><span class=\"pl-c1\">1<\/span>,\n<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">columns<\/span>)<span class=\"pl-c1\">-<\/span><span class=\"pl-c1\">1<\/span>]\n\n<span class=\"pl-c\"># Slice by labels<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s\">\'row1\'<\/span>:<span class=\"pl-s\">\'row3\'<\/span>, <span class=\"pl-s\">\'col1\'<\/span>:<span class=\"pl-s\">\'col3\'<\/span>]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">the<\/span> <span class=\"pl-s\">\"to\"<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">this<\/span> <span class=\"pl-s1\">slice<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-s1\">inclusive<\/span>.\n\n\n<span class=\"pl-c\"># Slice by Integer Position<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">2<\/span>:<span class=\"pl-c1\">4<\/span>, <span class=\"pl-c1\">2<\/span>:<span class=\"pl-c1\">4<\/span>] <span class=\"pl-c\"># subset of the df<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[:<span class=\"pl-c1\">5<\/span>, :<span class=\"pl-c1\">5<\/span>] <span class=\"pl-c\"># top left corner<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">5<\/span>, :] <span class=\"pl-c\"># returns row as Series<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">5<\/span>:<span class=\"pl-c1\">6<\/span>, :] <span class=\"pl-c\"># returns row as row<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">exclusive<\/span> <span class=\"pl-s\">\"to\"<\/span> – <span class=\"pl-s1\">same<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">python<\/span> <span class=\"pl-s1\">list<\/span> <span class=\"pl-s1\">slicing<\/span>.\n\n<span class=\"pl-c\"># By label and/or Index<\/span>\n<span class=\"pl-c1\">//<\/span> .<span class=\"pl-s1\">ix<\/span> <span class=\"pl-s1\">for<\/span> <span class=\"pl-s1\">mixed<\/span> <span class=\"pl-s1\">label<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">position<\/span> <span class=\"pl-s1\">indexing<\/span>\n<span class=\"pl-s1\">value<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-c1\">5<\/span>, <span class=\"pl-s\">\'col1\'<\/span>]\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">ix<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">5<\/span>, <span class=\"pl-s\">\'col1\'<\/span>:<span class=\"pl-s\">\'col3\'<\/span>]<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Manipulating<\/h2><a id=\"user-content-manipulating-1\" class=\"anchor\" aria-label=\"Permalink: Manipulating\" href=\"#manipulating-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">Updating<\/h3><a id=\"user-content-updating\" class=\"anchor\" aria-label=\"Permalink: Updating\" href=\"#updating\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># A cell<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">at<\/span>[<span class=\"pl-s\">\'row\'<\/span>, <span class=\"pl-s\">\'col\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">value<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s\">\'row\'<\/span>, <span class=\"pl-s\">\'col\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">value<\/span>\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-s1\">at<\/span>[<span class=\"pl-s\">\'row\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">value<\/span> <span class=\"pl-c\"># tricky<\/span>\n\n<span class=\"pl-c\"># Setting a cross-section by labels<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-s\">\'A\'<\/span>:<span class=\"pl-s\">\'C\'<\/span>, <span class=\"pl-s\">\'col1\'<\/span>:<span class=\"pl-s\">\'col3\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">nan<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">2<\/span>,<span class=\"pl-s\">\'col1\'<\/span>:<span class=\"pl-s\">\'col2\'<\/span>]<span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">zeros<\/span>((<span class=\"pl-c1\">2<\/span>,<span class=\"pl-c1\">2<\/span>))\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">2<\/span>,<span class=\"pl-s\">\'A\'<\/span>:<span class=\"pl-s\">\'C\'<\/span>]<span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">othr<\/span>.<span class=\"pl-s1\">loc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">2<\/span>,<span class=\"pl-s\">\'A\'<\/span>:<span class=\"pl-s\">\'C\'<\/span>]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Remember<\/span>: <span class=\"pl-s1\">inclusive<\/span> <span class=\"pl-s\">\"to\"<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">slice<\/span>\n\n<span class=\"pl-c\"># Setting cell by integer position<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">0<\/span>, <span class=\"pl-c1\">0<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">value<\/span> <span class=\"pl-c\"># [row, col]<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iat<\/span>[<span class=\"pl-c1\">7<\/span>, <span class=\"pl-c1\">8<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">value<\/span>\n\n<span class=\"pl-c\"># Setting cell range by integer position<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">0<\/span>:<span class=\"pl-c1\">3<\/span>, <span class=\"pl-c1\">0<\/span>:<span class=\"pl-c1\">5<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">value<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">3<\/span>, <span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">4<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">ones<\/span>((<span class=\"pl-c1\">2<\/span>, <span class=\"pl-c1\">3<\/span>))\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">3<\/span>, <span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">4<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">zeros<\/span>((<span class=\"pl-c1\">2<\/span>, <span class=\"pl-c1\">3<\/span>))\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">iloc<\/span>[<span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">3<\/span>, <span class=\"pl-c1\">1<\/span>:<span class=\"pl-c1\">4<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">array<\/span>([[<span class=\"pl-c1\">1<\/span>, <span class=\"pl-c1\">1<\/span>, <span class=\"pl-c1\">1<\/span>],[<span class=\"pl-c1\">2<\/span>, <span class=\"pl-c1\">2<\/span>, <span class=\"pl-c1\">2<\/span>]])\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Remember<\/span>: <span class=\"pl-s1\">exclusive<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">to<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">slice<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Joining/Combining DataFrames<\/h1><a id=\"user-content-joiningcombining-dataframes\" class=\"anchor\" aria-label=\"Permalink: Joining/Combining DataFrames\" href=\"#joiningcombining-dataframes\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Three ways to join two DataFrames:\n• merge (a database/SQL-like join operation)\n• concat (stack side by side or one on top of the other)\n• combine_first (splice the two together, choosing\nvalues from one over the other)<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Merge on indexes<\/span>\n<span class=\"pl-s1\">df_new<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">merge<\/span>(<span class=\"pl-s1\">left<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df1<\/span>, <span class=\"pl-s1\">right<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df2<\/span>, <span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'outer\'<\/span>, <span class=\"pl-s1\">left_index<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>, <span class=\"pl-s1\">right_index<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">How<\/span>: <span class=\"pl-s\">\'left\'<\/span>, <span class=\"pl-s\">\'right\'<\/span>, <span class=\"pl-s\">\'outer\'<\/span>, <span class=\"pl-s\">\'inner\'<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">How<\/span>: <span class=\"pl-s1\">outer<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">union<\/span><span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">all<\/span>; <span class=\"pl-s1\">inner<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">intersection<\/span>\n\n<span class=\"pl-c\"># Merge on columns<\/span>\n<span class=\"pl-s1\">df_new<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">merge<\/span>(<span class=\"pl-s1\">left<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df1<\/span>, <span class=\"pl-s1\">right<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df2<\/span>, <span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'left\'<\/span>, <span class=\"pl-s1\">left_on<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'col1\'<\/span>, <span class=\"pl-s1\">right_on<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'col2\'<\/span>)\n\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-v\">When<\/span> <span class=\"pl-s1\">joining<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">columns<\/span>, <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">indexes<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">passed<\/span> <span class=\"pl-v\">DataFrames<\/span> <span class=\"pl-s1\">are<\/span> <span class=\"pl-s1\">ignored<\/span>.\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">many<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">to<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">many<\/span> <span class=\"pl-s1\">merges<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">column<\/span> <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">result<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">an<\/span> <span class=\"pl-s1\">explosion<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">associated<\/span> <span class=\"pl-s1\">data<\/span>.\n\n<span class=\"pl-c\"># Join on indexes (another way of merging)<\/span>\n<span class=\"pl-s1\">df_new<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df1<\/span>.<span class=\"pl-en\">join<\/span>(<span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df2<\/span>, <span class=\"pl-s1\">on<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'col1\'<\/span>,<span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'outer\'<\/span>)\n<span class=\"pl-s1\">df_new<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df1<\/span>.<span class=\"pl-en\">join<\/span>(<span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df2<\/span>,<span class=\"pl-s1\">on<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>],<span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'outer\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">__Note__<\/span>: <span class=\"pl-v\">DataFrame<\/span>.<span class=\"pl-en\">join<\/span>() <span class=\"pl-s1\">joins<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">indexes<\/span> <span class=\"pl-s1\">by<\/span> <span class=\"pl-s1\">default<\/span>.\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">DataFrame<\/span>.<span class=\"pl-en\">merge<\/span>() <span class=\"pl-s1\">joins<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">common<\/span> <span class=\"pl-s1\">columns<\/span> <span class=\"pl-s1\">by<\/span> <span class=\"pl-s1\">default<\/span>.\n\n<span class=\"pl-c\"># Simple concatenation is often the best<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">concat<\/span>([<span class=\"pl-s1\">df1<\/span>,<span class=\"pl-s1\">df2<\/span>],<span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>)<span class=\"pl-c\">#top/bottom<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df1<\/span>.<span class=\"pl-en\">append<\/span>([<span class=\"pl-s1\">df2<\/span>, <span class=\"pl-s1\">df3<\/span>]) <span class=\"pl-c\">#top/bottom<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">concat<\/span>([<span class=\"pl-s1\">df1<\/span>,<span class=\"pl-s1\">df2<\/span>],<span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>)<span class=\"pl-c\">#left/right<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">__Trap__<\/span>: <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">end<\/span> <span class=\"pl-s1\">up<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">duplicate<\/span> <span class=\"pl-s1\">rows<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">cols<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">__Note__<\/span>: <span class=\"pl-s1\">concat<\/span> <span class=\"pl-s1\">has<\/span> <span class=\"pl-s1\">an<\/span> <span class=\"pl-s1\">ignore_index<\/span> <span class=\"pl-s1\">parameter<\/span>\n\n\n<span class=\"pl-c\"># Combine_first<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df1<\/span>.<span class=\"pl-en\">combine_first<\/span>(<span class=\"pl-s1\">other<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df2<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">multi<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">combine<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">python<\/span> <span class=\"pl-en\">reduce<\/span>()\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">reduce<\/span>(<span class=\"pl-k\">lambda<\/span> <span class=\"pl-s1\">x<\/span>, <span class=\"pl-s1\">y<\/span>:\n<span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">combine_first<\/span>(<span class=\"pl-s1\">y<\/span>),\n[<span class=\"pl-s1\">df1<\/span>, <span class=\"pl-s1\">df2<\/span>, <span class=\"pl-s1\">df3<\/span>, <span class=\"pl-s1\">df4<\/span>, <span class=\"pl-s1\">df5<\/span>])\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Uses<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">non<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">null<\/span> <span class=\"pl-s1\">values<\/span> <span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">df1<\/span>. <span class=\"pl-v\">The<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">combined<\/span> <span class=\"pl-v\">DataFrame<\/span> <span class=\"pl-s1\">will<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">union<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">indexes<\/span> <span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">df1<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">df2<\/span>.\n\n<span class=\"pl-c\"># Merge/join multiple<\/span>\n<span class=\"pl-s1\">dfs<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s1\">df0<\/span>, <span class=\"pl-s1\">df1<\/span>, <span class=\"pl-s1\">df2<\/span>, <span class=\"pl-s1\">dfN<\/span>]\n<span class=\"pl-c\"># Assuming they have some common column, like name in your example, I\'d do the following:<\/span>\n<span class=\"pl-s1\">dataset<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-en\">reduce<\/span>(<span class=\"pl-k\">lambda<\/span> <span class=\"pl-s1\">left<\/span>,<span class=\"pl-s1\">right<\/span>: <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">merge<\/span>(<span class=\"pl-s1\">left<\/span>,<span class=\"pl-s1\">right<\/span>,<span class=\"pl-s1\">on<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'Country\'<\/span>,<span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'left\'<\/span>), <span class=\"pl-s1\">dfs<\/span>)\n[<span class=\"pl-s1\">source<\/span>](<span class=\"pl-s1\">http<\/span>:<span class=\"pl-c1\">//<\/span><span class=\"pl-s1\">stackoverflow<\/span>.<span class=\"pl-s1\">com<\/span><span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">questions<\/span><span class=\"pl-c1\">/<\/span><span class=\"pl-c1\">23668427<\/span><span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">pandas<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">joining<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">multiple<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">dataframes<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">on<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">columns<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Grouping + Applying functions<\/h1><a id=\"user-content-grouping--applying-functions\" class=\"anchor\" aria-label=\"Permalink: Grouping + Applying functions\" href=\"#grouping--applying-functions\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">The pandas \"groupby\" mechanism allows us to split the data into groups, apply a function to each group independently and then combine the results.<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Grouping<\/h2><a id=\"user-content-grouping\" class=\"anchor\" aria-label=\"Permalink: Grouping\" href=\"#grouping\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Grouping<\/span>\n<span class=\"pl-s1\">gb<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>) <span class=\"pl-c\"># by one columns<\/span>\n<span class=\"pl-s1\">gb<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>([<span class=\"pl-s\">\'c1\'<\/span>,<span class=\"pl-s\">\'c2\'<\/span>]) <span class=\"pl-c\"># by 2 cols<\/span>\n<span class=\"pl-s1\">gb<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s1\">level<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>) <span class=\"pl-c\"># multi-index gb<\/span>\n<span class=\"pl-s1\">gb<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s1\">level<\/span><span class=\"pl-c1\">=<\/span>[<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>]) <span class=\"pl-c\"># mi gb<\/span>\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">gb<\/span>.<span class=\"pl-s1\">groups<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-en\">groupby<\/span>() <span class=\"pl-s1\">returns<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-s1\">groupby<\/span> <span class=\"pl-s1\">object<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">groupby<\/span> <span class=\"pl-s1\">object<\/span> <span class=\"pl-s1\">attribute<\/span> .<span class=\"pl-s1\">groups<\/span> <span class=\"pl-s1\">contains<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">dictionary<\/span> <span class=\"pl-s1\">mapping<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">groups<\/span>.\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-v\">NaN<\/span> <span class=\"pl-s1\">values<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">group<\/span> <span class=\"pl-s1\">key<\/span> <span class=\"pl-s1\">are<\/span> <span class=\"pl-s1\">automatically<\/span> <span class=\"pl-s1\">dropped<\/span> – <span class=\"pl-s1\">there<\/span> <span class=\"pl-s1\">will<\/span> <span class=\"pl-s1\">never<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">NA<\/span> <span class=\"pl-s1\">group<\/span>.\n\n<span class=\"pl-c\"># Iterating groups – usually not needed<\/span>\n<span class=\"pl-s1\">for<\/span> <span class=\"pl-s1\">name<\/span>, <span class=\"pl-s1\">group<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">gb<\/span>:\n	<span class=\"pl-en\">print<\/span> (<span class=\"pl-s1\">name<\/span>)\n	<span class=\"pl-en\">print<\/span> (<span class=\"pl-s1\">group<\/span>)\n\n<span class=\"pl-c\"># Selecting a group<\/span>\n<span class=\"pl-s1\">dfa<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">get_group<\/span>(<span class=\"pl-s\">\'a\'<\/span>)\n<span class=\"pl-s1\">dfb<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">get_group<\/span>(<span class=\"pl-s\">\'b\'<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Aggregating/transormating function<\/h2><a id=\"user-content-aggregatingtransormating-function\" class=\"anchor\" aria-label=\"Permalink: Aggregating/transormating function\" href=\"#aggregatingtransormating-function\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># apply to a column ...<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>)[<span class=\"pl-s\">\'col1\'<\/span>].<span class=\"pl-en\">sum<\/span>()\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>)[<span class=\"pl-s\">\'col1\'<\/span>].<span class=\"pl-en\">agg<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">sum<\/span>)\n<span class=\"pl-c\"># apply to the every column in DataFrame<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">agg<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">sum<\/span>)\n<span class=\"pl-s1\">df_summary<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">describe<\/span>()\n<span class=\"pl-s1\">df_row_1s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">head<\/span>(<span class=\"pl-c1\">1<\/span>)\n\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">aggregating<\/span> <span class=\"pl-s1\">functions<\/span> <span class=\"pl-s1\">reduce<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">dimension<\/span> <span class=\"pl-s1\">by<\/span> <span class=\"pl-s1\">one<\/span> – <span class=\"pl-s1\">they<\/span> <span class=\"pl-s1\">include<\/span>: <span class=\"pl-s1\">mean<\/span>, <span class=\"pl-s1\">sum<\/span>, <span class=\"pl-s1\">size<\/span>, <span class=\"pl-s1\">count<\/span>, <span class=\"pl-s1\">std<\/span>, <span class=\"pl-s1\">var<\/span>, <span class=\"pl-s1\">sem<\/span>, <span class=\"pl-s1\">describe<\/span>, <span class=\"pl-s1\">first<\/span>, <span class=\"pl-s1\">last<\/span>, <span class=\"pl-s1\">min<\/span>, <span class=\"pl-s1\">max<\/span>\n\n<span class=\"pl-c\"># Applying multiple aggregating functions<\/span>\n<span class=\"pl-s1\">gb<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">apply<\/span> <span class=\"pl-s1\">multiple<\/span> <span class=\"pl-s1\">functions<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">one<\/span> <span class=\"pl-s1\">column<\/span>\n<span class=\"pl-s1\">dfx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">gb<\/span>[<span class=\"pl-s\">\'col2\'<\/span>].<span class=\"pl-en\">agg<\/span>([<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">sum<\/span>, <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">mean<\/span>])\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">apply<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">multiple<\/span> <span class=\"pl-s1\">fns<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">multiple<\/span> <span class=\"pl-s1\">cols<\/span>\n<span class=\"pl-s1\">dfy<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">gb<\/span>.<span class=\"pl-en\">agg<\/span>({\n	<span class=\"pl-s\">\'cat\'<\/span>: <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">count_nonzero<\/span>,\n	<span class=\"pl-s\">\'col1\'<\/span>: [<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">sum<\/span>, <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">mean<\/span>, <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">std<\/span>],\n	<span class=\"pl-s\">\'col2\'<\/span>: [<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">min<\/span>, <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">max<\/span>]\n})\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">gb<\/span>[<span class=\"pl-s\">\'col2\'<\/span>] <span class=\"pl-s1\">above<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-s1\">shorthand<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>)[<span class=\"pl-s\">\'col2\'<\/span>], <span class=\"pl-s1\">without<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">need<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">regrouping<\/span>.\n\n\n<span class=\"pl-c\"># Transforming functions<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">transform<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">group<\/span> <span class=\"pl-s1\">z<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">scores<\/span>, <span class=\"pl-s1\">which<\/span> <span class=\"pl-s1\">have<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">group<\/span> <span class=\"pl-s1\">mean<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-c1\">0<\/span>, <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">std<\/span> <span class=\"pl-s1\">dev<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-c1\">1.<\/span>\n<span class=\"pl-s1\">zscore<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-k\">lambda<\/span> <span class=\"pl-en\">x<\/span>: (<span class=\"pl-s1\">x<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">mean<\/span>())<span class=\"pl-c1\">/<\/span><span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">std<\/span>()\n<span class=\"pl-s1\">dfz<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">transform<\/span>(<span class=\"pl-s1\">zscore<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">replace<\/span> <span class=\"pl-s1\">missing<\/span> <span class=\"pl-s1\">data<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">group<\/span> <span class=\"pl-s1\">mean<\/span>\n<span class=\"pl-s1\">mean_r<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-k\">lambda<\/span> <span class=\"pl-s1\">x<\/span>: <span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">fillna<\/span>(<span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">mean<\/span>())\n<span class=\"pl-s1\">dfm<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">transform<\/span>(<span class=\"pl-s1\">mean_r<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">apply<\/span> <span class=\"pl-s1\">multiple<\/span> <span class=\"pl-s1\">transforming<\/span> <span class=\"pl-s1\">functions<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">manner<\/span> <span class=\"pl-s1\">similar<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">multiple<\/span> <span class=\"pl-s1\">aggregating<\/span> <span class=\"pl-s1\">functions<\/span> <span class=\"pl-s1\">above<\/span>,\n\n<span class=\"pl-c\"># Applying filtering functions<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Filtering<\/span> <span class=\"pl-s1\">functions<\/span> <span class=\"pl-s1\">allow<\/span> <span class=\"pl-s1\">you<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">make<\/span> <span class=\"pl-s1\">selections<\/span> <span class=\"pl-s1\">based<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">whether<\/span> <span class=\"pl-s1\">each<\/span> <span class=\"pl-s1\">group<\/span> <span class=\"pl-s1\">meets<\/span> <span class=\"pl-s1\">specified<\/span> <span class=\"pl-s1\">criteria<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">select<\/span> <span class=\"pl-s1\">groups<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">more<\/span> <span class=\"pl-s1\">than<\/span> <span class=\"pl-c1\">10<\/span> <span class=\"pl-s1\">members<\/span>\n<span class=\"pl-s1\">eleven<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-k\">lambda<\/span> <span class=\"pl-s1\">x<\/span>: (<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">x<\/span>[<span class=\"pl-s\">\'col1\'<\/span>]) <span class=\"pl-c1\">&gt;=<\/span> <span class=\"pl-c1\">11<\/span>)\n<span class=\"pl-s1\">df11<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s\">\'cat\'<\/span>).<span class=\"pl-en\">filter<\/span>(<span class=\"pl-s1\">eleven<\/span>)\n\n<span class=\"pl-c\"># Group by a row index (non-hierarchical index)<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">set_index<\/span>(<span class=\"pl-s1\">keys<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'cat\'<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s1\">level<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>)[<span class=\"pl-s\">\'col1\'<\/span>].<span class=\"pl-en\">sum<\/span>()\n<span class=\"pl-s1\">dfg<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s1\">level<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span>).<span class=\"pl-en\">sum<\/span>()<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Dates+times (and their indexes)<\/h1><a id=\"user-content-datestimes-and-their-indexes\" class=\"anchor\" aria-label=\"Permalink: Dates+times (and their indexes)\" href=\"#datestimes-and-their-indexes\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Dates and time – points and spans<\/span>\n<span class=\"pl-v\">With<\/span> <span class=\"pl-s1\">its<\/span> <span class=\"pl-s1\">focus<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">time<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">series<\/span> <span class=\"pl-s1\">data<\/span>, <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-s1\">has<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">suite<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">tools<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">managing<\/span> <span class=\"pl-s1\">dates<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">time<\/span>: <span class=\"pl-s1\">either<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">point<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-en\">time<\/span> (<span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Timestamp<\/span>) <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">as<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">span<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-en\">time<\/span> (<span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Period<\/span>).\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Timestamp<\/span>(<span class=\"pl-s\">\'2013-01-01\'<\/span>)\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Timestamp<\/span>(<span class=\"pl-s\">\'2013-01-01 21:15:06\'<\/span>)\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Timestamp<\/span>(<span class=\"pl-s\">\'2013-01-01 21:15:06.7\'<\/span>)\n<span class=\"pl-s1\">p<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Period<\/span>(<span class=\"pl-s\">\'2013-01-01\'<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-v\">Timestamps<\/span> <span class=\"pl-s1\">should<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">range<\/span> <span class=\"pl-c1\">1678<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-c1\">2261<\/span> <span class=\"pl-s1\">years<\/span>. (<span class=\"pl-v\">Check<\/span> <span class=\"pl-v\">Timestamp<\/span>.<span class=\"pl-s1\">max<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-v\">Timestamp<\/span>.<span class=\"pl-s1\">min<\/span>).\n\n<span class=\"pl-c\"># A Series of Timestamps or Periods<\/span>\n<span class=\"pl-s1\">ts<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'2015-04-01 13:17:27\'<\/span>, <span class=\"pl-s\">\'2014-04-02 13:17:29\'<\/span>]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-v\">Timestamps<\/span> (<span class=\"pl-s1\">good<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>(<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">ts<\/span>))\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-v\">Periods<\/span> (<span class=\"pl-s1\">often<\/span> <span class=\"pl-c1\">not<\/span> <span class=\"pl-s1\">so<\/span> <span class=\"pl-s1\">good<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Series<\/span>( [<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Period<\/span>(<span class=\"pl-s1\">x<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>) <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">x<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">ts<\/span>] )\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">PeriodIndex<\/span>(<span class=\"pl-s1\">ts<\/span>,<span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'S\'<\/span>))\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-v\">While<\/span> <span class=\"pl-v\">Periods<\/span> <span class=\"pl-s1\">make<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">very<\/span> <span class=\"pl-s1\">useful<\/span> <span class=\"pl-s1\">index<\/span>; <span class=\"pl-s1\">they<\/span> <span class=\"pl-s1\">may<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">less<\/span> <span class=\"pl-s1\">useful<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Series<\/span>.\n\n<span class=\"pl-c\"># From non-standard strings to Timestamps<\/span>\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'09:08:55.7654-JAN092002\'<\/span>, <span class=\"pl-s\">\'15:42:02.6589-FEB082016\'<\/span>]\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>(<span class=\"pl-s1\">t<\/span>, <span class=\"pl-s1\">format<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\"%H:%M:%S.%f-%b%d%Y\"<\/span>))\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Also<\/span>: <span class=\"pl-c1\">%<\/span><span class=\"pl-v\">B<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">full<\/span> <span class=\"pl-s1\">month<\/span> <span class=\"pl-s1\">name<\/span>; <span class=\"pl-c1\">%<\/span><span class=\"pl-s1\">m<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">numeric<\/span> <span class=\"pl-s1\">month<\/span>; <span class=\"pl-c1\">%<\/span><span class=\"pl-s1\">y<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">year<\/span> <span class=\"pl-s1\">without<\/span> <span class=\"pl-s1\">century<\/span>; <span class=\"pl-s1\">and<\/span> <span class=\"pl-s1\">more<\/span> …\n\n<span class=\"pl-c\"># Dates and time – stamps and spans as indexes<\/span>\n<span class=\"pl-v\">An<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-v\">Timestamps<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">DatetimeIndex<\/span>.\n<span class=\"pl-v\">An<\/span> <span class=\"pl-s1\">index<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-v\">Periods<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">PeriodIndex<\/span>.\n\n<span class=\"pl-s1\">date_strs<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'2014-01-01\'<\/span>, <span class=\"pl-s\">\'2014-04-01\'<\/span>,<span class=\"pl-s\">\'2014-07-01\'<\/span>, <span class=\"pl-s\">\'2014-10-01\'<\/span>]\n<span class=\"pl-s1\">dti<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">DatetimeIndex<\/span>(<span class=\"pl-s1\">date_strs<\/span>)\n<span class=\"pl-s1\">pid<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">PeriodIndex<\/span>(<span class=\"pl-s1\">date_strs<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'D\'<\/span>)\n<span class=\"pl-s1\">pim<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">PeriodIndex<\/span>(<span class=\"pl-s1\">date_strs<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-s1\">piq<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">PeriodIndex<\/span>(<span class=\"pl-s1\">date_strs<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'Q\'<\/span>)\n<span class=\"pl-en\">print<\/span> (<span class=\"pl-s1\">pid<\/span>[<span class=\"pl-c1\">1<\/span>] <span class=\"pl-c1\">-<\/span> <span class=\"pl-s1\">pid<\/span>[<span class=\"pl-c1\">0<\/span>]) <span class=\"pl-c\"># 90 days<\/span>\n<span class=\"pl-en\">print<\/span> (<span class=\"pl-s1\">pim<\/span>[<span class=\"pl-c1\">1<\/span>] <span class=\"pl-c1\">-<\/span> <span class=\"pl-s1\">pim<\/span>[<span class=\"pl-c1\">0<\/span>]) <span class=\"pl-c\"># 3 months<\/span>\n<span class=\"pl-en\">print<\/span> (<span class=\"pl-s1\">piq<\/span>[<span class=\"pl-c1\">1<\/span>] <span class=\"pl-c1\">-<\/span> <span class=\"pl-s1\">piq<\/span>[<span class=\"pl-c1\">0<\/span>]) <span class=\"pl-c\"># 1 quarter<\/span>\n<span class=\"pl-s1\">time_strs<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'2015-01-01 02:10:40.12345\'<\/span>, <span class=\"pl-s\">\'2015-01-01 02:10:50.67890\'<\/span>]\n<span class=\"pl-s1\">pis<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">PeriodIndex<\/span>(<span class=\"pl-s1\">time_strs<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'U\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">period_range<\/span>(<span class=\"pl-s\">\'2015-01\'<\/span>, <span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>), <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-s1\">dti<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>([<span class=\"pl-s\">\'04-01-2012\'<\/span>], <span class=\"pl-s1\">dayfirst<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>) <span class=\"pl-c\"># Australian date format<\/span>\n<span class=\"pl-s1\">pi<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">period_range<\/span>(<span class=\"pl-s\">\'1960-01-01\'<\/span>,<span class=\"pl-s\">\'2015-12-31\'<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Hint<\/span>: <span class=\"pl-s1\">unless<\/span> <span class=\"pl-s1\">you<\/span> <span class=\"pl-s1\">are<\/span> <span class=\"pl-s1\">working<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">less<\/span> <span class=\"pl-s1\">than<\/span> <span class=\"pl-s1\">seconds<\/span>, <span class=\"pl-s1\">prefer<\/span> <span class=\"pl-v\">PeriodIndex<\/span> <span class=\"pl-s1\">over<\/span> <span class=\"pl-v\">DateTimeImdex<\/span>.\n\n<span class=\"pl-c\"># From DatetimeIndex to Python datetime objects<\/span>\n<span class=\"pl-s1\">dti<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">DatetimeIndex<\/span>(<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">date_range<\/span>(\n<span class=\"pl-s1\">start<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'1/1/2011\'<\/span>, <span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">4<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>))\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>([<span class=\"pl-c1\">1<\/span>,<span class=\"pl-c1\">2<\/span>,<span class=\"pl-c1\">3<\/span>,<span class=\"pl-c1\">4<\/span>], <span class=\"pl-s1\">index<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">dti<\/span>)\n<span class=\"pl-s1\">na<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">dti<\/span>.<span class=\"pl-en\">to_pydatetime<\/span>() <span class=\"pl-c\">#numpy array<\/span>\n<span class=\"pl-s1\">na<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-en\">to_pydatetime<\/span>() <span class=\"pl-c\">#numpy array<\/span><\/pre><\/div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Timestamps -&gt; Python dates or times<\/h2><a id=\"user-content-timestamps---python-dates-or-times\" class=\"anchor\" aria-label=\"Permalink: Timestamps -&gt; Python dates or times\" href=\"#timestamps---python-dates-or-times\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'date\'<\/span>] <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">date<\/span>() <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">x<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'TS\'<\/span>]]\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'time\'<\/span>] <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s1\">x<\/span>.<span class=\"pl-en\">time<\/span>() <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">x<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'TS\'<\/span>]]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">converts<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">datatime<\/span>.<span class=\"pl-s1\">date<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">datetime<\/span>.<span class=\"pl-s1\">time<\/span>. <span class=\"pl-v\">But<\/span> <span class=\"pl-s1\">does<\/span> <span class=\"pl-c1\">not<\/span> <span class=\"pl-s1\">convert<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">datetime<\/span>.<span class=\"pl-s1\">datetime<\/span>.\n\n<span class=\"pl-c\"># From DatetimeIndex to PeriodIndex and back<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">DataFrame<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">random<\/span>.<span class=\"pl-en\">randn<\/span>(<span class=\"pl-c1\">20<\/span>,<span class=\"pl-c1\">3<\/span>))\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">date_range<\/span>(<span class=\"pl-s\">\'2015-01-01\'<\/span>, <span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>), <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-s1\">dfp<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">to_period<\/span>(<span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-s1\">dft<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">dfp<\/span>.<span class=\"pl-en\">to_timestamp<\/span>()\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">from<\/span> <span class=\"pl-s1\">period<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">timestamp<\/span> <span class=\"pl-s1\">defaults<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">point<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">time<\/span> <span class=\"pl-s1\">at<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">start<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">period<\/span>.\n\n<span class=\"pl-c\"># Working with a PeriodIndex<\/span>\n<span class=\"pl-s1\">pi<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">period_range<\/span>(<span class=\"pl-s\">\'1960-01\'<\/span>,<span class=\"pl-s\">\'2015-12\'<\/span>,<span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-s1\">na<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pi<\/span>.<span class=\"pl-s1\">values<\/span> <span class=\"pl-c\"># numpy array of integers<\/span>\n<span class=\"pl-s1\">lp<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pi<\/span>.<span class=\"pl-en\">tolist<\/span>() <span class=\"pl-c\"># python list of Periods<\/span>\n<span class=\"pl-s1\">sp<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pi<\/span>)<span class=\"pl-c\"># pandas Series of Periods<\/span>\n<span class=\"pl-s1\">ss<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pi<\/span>).<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s1\">str<\/span>) <span class=\"pl-c\"># S of strs<\/span>\n<span class=\"pl-s1\">ls<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pi<\/span>).<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s1\">str<\/span>).<span class=\"pl-en\">tolist<\/span>()\n\n<span class=\"pl-c\"># Get a range of Timestamps<\/span>\n<span class=\"pl-s1\">dr<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">date_range<\/span>(<span class=\"pl-s\">\'2013-01-01\'<\/span>, <span class=\"pl-s\">\'2013-12-31\'<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'D\'<\/span>)\n\n<span class=\"pl-c\"># Error handling with dates<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-c1\">1<\/span><span class=\"pl-s1\">st<\/span> <span class=\"pl-s1\">example<\/span> <span class=\"pl-s1\">returns<\/span> <span class=\"pl-s1\">string<\/span> <span class=\"pl-c1\">not<\/span> <span class=\"pl-v\">Timestamp<\/span>\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>(<span class=\"pl-s\">\'2014-02-30\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-c1\">2<\/span><span class=\"pl-s1\">nd<\/span> <span class=\"pl-s1\">example<\/span> <span class=\"pl-s1\">returns<\/span> <span class=\"pl-v\">NaT<\/span> (<span class=\"pl-c1\">not<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">time<\/span>)\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>(<span class=\"pl-s\">\'2014-02-30\'<\/span>,<span class=\"pl-s1\">coerce<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">NaT<\/span> <span class=\"pl-s1\">like<\/span> <span class=\"pl-v\">NaN<\/span> <span class=\"pl-s1\">tests<\/span> <span class=\"pl-c1\">True<\/span> <span class=\"pl-s1\">for<\/span> <span class=\"pl-en\">isnull<\/span>()\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">isnull<\/span>(<span class=\"pl-s1\">t<\/span>) <span class=\"pl-c\"># --&gt; True<\/span>\n\n<span class=\"pl-c\"># The tail of a time-series DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">last<\/span>(<span class=\"pl-s\">\"5M\"<\/span>) <span class=\"pl-c\"># the last five months<\/span>\n\n\n<span class=\"pl-c\"># Upsampling and downsampling<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">upsample<\/span> <span class=\"pl-k\">from<\/span> <span class=\"pl-s1\">quarterly<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">monthly<\/span>\n<span class=\"pl-s1\">pi<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-s1\">period_range<\/span>(<span class=\"pl-s\">\'1960Q1\'<\/span>, <span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">220<\/span>, <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'Q\'<\/span>)\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">DataFrame<\/span>(<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">random<\/span>.<span class=\"pl-en\">rand<\/span>(<span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">pi<\/span>),<span class=\"pl-c1\">5<\/span>), <span class=\"pl-s1\">index<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">pi<\/span>)\n<span class=\"pl-s1\">dfm<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">resample<\/span>(<span class=\"pl-s\">\'M\'<\/span>, <span class=\"pl-s1\">convention<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'end\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">use<\/span> <span class=\"pl-s1\">ffill<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">bfill<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">fill<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">values<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">downsample<\/span> <span class=\"pl-s1\">from<\/span> <span class=\"pl-s1\">monthly<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">quarterly<\/span>\n<span class=\"pl-s1\">dfq<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">dfm<\/span>.<span class=\"pl-en\">resample<\/span>(<span class=\"pl-s\">\'Q\'<\/span>, <span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'sum\'<\/span>)\n\n\n<span class=\"pl-c\"># Time zones<\/span>\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'2015-06-30 00:00:00\'<\/span>,<span class=\"pl-s\">\'2015-12-31 00:00:00\'<\/span>]\n<span class=\"pl-s1\">dti<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>(<span class=\"pl-s1\">t<\/span>).<span class=\"pl-en\">tz_localize<\/span>(<span class=\"pl-s\">\'Australia/Canberra\'<\/span>)\n<span class=\"pl-s1\">dti<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">dti<\/span>.<span class=\"pl-en\">tz_convert<\/span>(<span class=\"pl-s\">\'UTC\'<\/span>)\n<span class=\"pl-s1\">ts<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Timestamp<\/span>(<span class=\"pl-s\">\'now\'<\/span>, <span class=\"pl-s1\">tz<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'Europe/London\'<\/span>)\n<span class=\"pl-c\"># get a list of all time zones<\/span>\n<span class=\"pl-s1\">import<\/span> <span class=\"pl-s1\">pyzt<\/span>\n<span class=\"pl-s1\">for<\/span> <span class=\"pl-s1\">tz<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">pytz<\/span>.<span class=\"pl-s1\">all_timezones<\/span>:\n	<span class=\"pl-k\">print<\/span> <span class=\"pl-s1\">tz<\/span>\n\n<span class=\"pl-c1\">//<\/span><span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">by<\/span> <span class=\"pl-s1\">default<\/span>, <span class=\"pl-v\">Timestamps<\/span> <span class=\"pl-s1\">are<\/span> <span class=\"pl-s1\">created<\/span> <span class=\"pl-s1\">without<\/span> <span class=\"pl-s1\">time<\/span> <span class=\"pl-s1\">zone<\/span> <span class=\"pl-s1\">information<\/span>.\n\n<span class=\"pl-c\"># Row selection with a time-series index<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">start<\/span> <span class=\"pl-s1\">with<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">play<\/span> <span class=\"pl-s1\">data<\/span> <span class=\"pl-s1\">above<\/span>\n<span class=\"pl-s1\">idx<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">period_range<\/span>(<span class=\"pl-s\">\'2015-01\'<\/span>, <span class=\"pl-s1\">periods<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-en\">len<\/span>(<span class=\"pl-s1\">df<\/span>), <span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'M\'<\/span>)\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">idx<\/span>\n<span class=\"pl-s1\">february_selector<\/span> <span class=\"pl-c1\">=<\/span> (<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">month<\/span> <span class=\"pl-c1\">==<\/span> <span class=\"pl-c1\">2<\/span>)\n<span class=\"pl-s1\">february_data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s1\">february_selector<\/span>]\n<span class=\"pl-s1\">q1_data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">month<\/span> <span class=\"pl-c1\">&gt;=<\/span> <span class=\"pl-c1\">1<\/span>) <span class=\"pl-c1\">&amp;<\/span> (<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">month<\/span> <span class=\"pl-c1\">&lt;=<\/span> <span class=\"pl-c1\">3<\/span>)]\n<span class=\"pl-s1\">mayornov_data<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">month<\/span> <span class=\"pl-c1\">==<\/span> <span class=\"pl-c1\">5<\/span>) <span class=\"pl-c1\">|<\/span> (<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">month<\/span> <span class=\"pl-c1\">==<\/span> <span class=\"pl-c1\">11<\/span>)]\n<span class=\"pl-s1\">totals<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">groupby<\/span>(<span class=\"pl-s1\">df<\/span>.<span class=\"pl-s1\">index<\/span>.<span class=\"pl-s1\">year<\/span>).<span class=\"pl-en\">sum<\/span>()\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Also<\/span>: <span class=\"pl-s1\">year<\/span>, <span class=\"pl-s1\">month<\/span>, <span class=\"pl-s1\">day<\/span> [<span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">month<\/span>], <span class=\"pl-s1\">hour<\/span>, <span class=\"pl-s1\">minute<\/span>, <span class=\"pl-s1\">second<\/span>, <span class=\"pl-s1\">dayofweek<\/span> [<span class=\"pl-v\">Mon<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">0<\/span> .. <span class=\"pl-v\">Sun<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">6<\/span>], <span class=\"pl-s1\">weekofmonth<\/span>, <span class=\"pl-s1\">weekofyear<\/span> [<span class=\"pl-s1\">numbered<\/span> <span class=\"pl-s1\">from<\/span> <span class=\"pl-c1\">1<\/span>], <span class=\"pl-s1\">week<\/span> <span class=\"pl-s1\">starts<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-v\">Monday<\/span>], <span class=\"pl-s1\">dayofyear<\/span> [<span class=\"pl-s1\">from<\/span> <span class=\"pl-c1\">1<\/span>], …\n\n<span class=\"pl-c\"># The Series.dt accessor attribute<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">DataFrame<\/span> <span class=\"pl-s1\">columns<\/span> <span class=\"pl-s1\">that<\/span> <span class=\"pl-s1\">contain<\/span> <span class=\"pl-s1\">datetime<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">like<\/span> <span class=\"pl-s1\">objects<\/span> <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">manipulated<\/span> <span class=\"pl-s1\">with<\/span> <span class=\"pl-s1\">the<\/span> .<span class=\"pl-s1\">dt<\/span> <span class=\"pl-s1\">accessor<\/span> <span class=\"pl-s1\">attribute<\/span>\n\n<span class=\"pl-s1\">t<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'2012-04-14 04:06:56.307000\'<\/span>, <span class=\"pl-s\">\'2011-05-14 06:14:24.457000\'<\/span>, <span class=\"pl-s\">\'2010-06-14 08:23:07.520000\'<\/span>]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">time<\/span> <span class=\"pl-s1\">stamps<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-en\">to_datetime<\/span>(<span class=\"pl-s1\">t<\/span>))\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">dtype<\/span>) <span class=\"pl-c\"># datetime64[ns]<\/span>\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">dt<\/span>.<span class=\"pl-s1\">second<\/span>) <span class=\"pl-c\"># 56, 24, 7<\/span>\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">dt<\/span>.<span class=\"pl-s1\">month<\/span>) <span class=\"pl-c\"># 4, 5, 6<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">of<\/span> <span class=\"pl-s1\">time<\/span> <span class=\"pl-s1\">periods<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">Series<\/span>(<span class=\"pl-s1\">pd<\/span>.<span class=\"pl-v\">PeriodIndex<\/span>(<span class=\"pl-s1\">t<\/span>,<span class=\"pl-s1\">freq<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'Q\'<\/span>))\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">dtype<\/span>) <span class=\"pl-c\"># datetime64[ns]<\/span>\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">dt<\/span>.<span class=\"pl-s1\">quarter<\/span>) <span class=\"pl-c\"># 2, 2, 2<\/span>\n<span class=\"pl-en\">print<\/span>(<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">dt<\/span>.<span class=\"pl-s1\">year<\/span>) <span class=\"pl-c\"># 2012, 2011, 2010<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Missing / non-finite data<\/h1><a id=\"user-content-missing--non-finite-data\" class=\"anchor\" aria-label=\"Permalink: Missing / non-finite data\" href=\"#missing--non-finite-data\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<p dir=\"auto\">Pandas uses the not-a-number construct (np.nan and float(\'nan\')) to indicate missing data. The Python None can arise in data as well. It is also treated as missing data; as is the pandas not-a-time construct\n(pandas.NaT).<\/p>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Missing data in a Series<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>( [<span class=\"pl-c1\">8<\/span>,<span class=\"pl-c1\">None<\/span>,<span class=\"pl-en\">float<\/span>(<span class=\"pl-s\">\'nan\'<\/span>),<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">nan<\/span>])<span class=\"pl-s1\"><\/span>\n<span class=\"pl-c1\">//<\/span>[<span class=\"pl-c1\">8<\/span>, <span class=\"pl-v\">NaN<\/span>, <span class=\"pl-v\">NaN<\/span>, <span class=\"pl-v\">NaN<\/span>]\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-en\">isnull<\/span>() <span class=\"pl-c\">#[False, True, True, True]<\/span>\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-en\">notnull<\/span>()<span class=\"pl-c\">#[True, False, False, False]<\/span>\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-en\">fillna<\/span>(<span class=\"pl-c1\">0<\/span>)<span class=\"pl-c\">#[8, 0, 0, 0]<\/span>\n\n<span class=\"pl-c\"># Missing data in a DataFrame<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">dropna<\/span>() <span class=\"pl-c\"># drop all rows with NaN<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">dropna<\/span>(<span class=\"pl-s1\">axis<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">1<\/span>) <span class=\"pl-c\"># same for cols<\/span>\n<span class=\"pl-s1\">df<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">dropna<\/span>(<span class=\"pl-s1\">how<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'all\'<\/span>) <span class=\"pl-c\">#drop all NaN row<\/span>\n<span class=\"pl-s1\">df<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">dropna<\/span>(<span class=\"pl-s1\">thresh<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">2<\/span>) <span class=\"pl-c\"># drop 2+ NaN in r<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">only<\/span> <span class=\"pl-s1\">drop<\/span> <span class=\"pl-s1\">row<\/span> <span class=\"pl-k\">if<\/span> <span class=\"pl-v\">NaN<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">specified<\/span> <span class=\"pl-s1\">col<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">dropna<\/span>(<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">notnull<\/span>())\n\n<span class=\"pl-c\"># Recoding/Replacing missing data<\/span>\n<span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">fillna<\/span>(<span class=\"pl-c1\">0<\/span>, <span class=\"pl-s1\">inplace<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>) <span class=\"pl-c\"># np.nan -&gt; 0<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'col\'<\/span>].<span class=\"pl-en\">fillna<\/span>(<span class=\"pl-c1\">0<\/span>) <span class=\"pl-c\"># np.nan -&gt; 0<\/span>\n<span class=\"pl-s1\">df<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>.<span class=\"pl-en\">replace<\/span>(<span class=\"pl-s\">r\'\\s+\'<\/span>, <span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">nan<\/span>,<span class=\"pl-s1\">regex<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-c1\">True<\/span>) <span class=\"pl-c\"># white space -&gt; np.nan<\/span>\n\n<span class=\"pl-c\"># Non-finite numbers<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">With<\/span> <span class=\"pl-s1\">floating<\/span> <span class=\"pl-s1\">point<\/span> <span class=\"pl-s1\">numbers<\/span>, <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-s1\">provides<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">positive<\/span> <span class=\"pl-c1\">and<\/span> <span class=\"pl-s1\">negative<\/span> <span class=\"pl-s1\">infinity<\/span>.\n\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>([<span class=\"pl-en\">float<\/span>(<span class=\"pl-s\">\'inf\'<\/span>), <span class=\"pl-en\">float<\/span>(<span class=\"pl-s\">\'-inf\'<\/span>),<span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">inf<\/span>, <span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">np<\/span>.<span class=\"pl-s1\">inf<\/span>])\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Pandas<\/span> <span class=\"pl-s1\">treats<\/span> <span class=\"pl-s1\">integer<\/span> <span class=\"pl-s1\">comparisons<\/span> <span class=\"pl-k\">with<\/span> <span class=\"pl-s1\">plus<\/span> <span class=\"pl-c1\">or<\/span> <span class=\"pl-s1\">minus<\/span> <span class=\"pl-s1\">infinity<\/span> <span class=\"pl-k\">as<\/span> <span class=\"pl-s1\">expected<\/span>.\n\n<span class=\"pl-c\"># Testing for finite numbers using the data from the previous example<\/span>\n<span class=\"pl-s1\">b<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">np<\/span>.<span class=\"pl-en\">isfinite<\/span>(<span class=\"pl-s1\">s<\/span>)<\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Working with Categorical Data<\/h1><a id=\"user-content-working-with-categorical-data\" class=\"anchor\" aria-label=\"Permalink: Working with Categorical Data\" href=\"#working-with-categorical-data\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"><\/path><\/svg><\/a><\/div>\n<div class=\"highlight highlight-source-python\" dir=\"auto\"><pre><span class=\"pl-c\"># Categorical data<\/span>\n<span class=\"pl-v\">The<\/span> <span class=\"pl-s1\">pandas<\/span> <span class=\"pl-v\">Series<\/span> <span class=\"pl-s1\">has<\/span> <span class=\"pl-s1\">an<\/span> <span class=\"pl-v\">R<\/span> <span class=\"pl-s1\">factors<\/span><span class=\"pl-c1\">-<\/span><span class=\"pl-s1\">like<\/span> <span class=\"pl-s1\">data<\/span> <span class=\"pl-s1\">type<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">encoding<\/span> <span class=\"pl-s1\">categorical<\/span> <span class=\"pl-s1\">data<\/span>.\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>([<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>,<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'c\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>,<span class=\"pl-s\">\'d\'<\/span>,<span class=\"pl-s\">\'a\'<\/span>],\n<span class=\"pl-s1\">dtype<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'category\'<\/span>)\n<span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'B\'<\/span>] <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">df<\/span>[<span class=\"pl-s\">\'A\'<\/span>].<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s\">\'category\'<\/span>)\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">the<\/span> <span class=\"pl-s1\">key<\/span> <span class=\"pl-s1\">here<\/span> <span class=\"pl-c1\">is<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">specify<\/span> <span class=\"pl-s1\">the<\/span> <span class=\"pl-s\">\"category\"<\/span> <span class=\"pl-s1\">data<\/span> <span class=\"pl-s1\">type<\/span>.\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Note<\/span>: <span class=\"pl-s1\">categories<\/span> <span class=\"pl-s1\">will<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">ordered<\/span> <span class=\"pl-s1\">on<\/span> <span class=\"pl-s1\">creation<\/span> <span class=\"pl-k\">if<\/span> <span class=\"pl-s1\">they<\/span> <span class=\"pl-s1\">are<\/span> <span class=\"pl-s1\">sortable<\/span>. <span class=\"pl-v\">This<\/span> <span class=\"pl-s1\">can<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">turned<\/span> <span class=\"pl-s1\">off<\/span>. <span class=\"pl-v\">See<\/span> <span class=\"pl-s1\">ordering<\/span> <span class=\"pl-s1\">below<\/span>.\n\n<span class=\"pl-c\"># Convert back to the original data type<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>([<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>,<span class=\"pl-s\">\'a\'<\/span>,<span class=\"pl-s\">\'c\'<\/span>,<span class=\"pl-s\">\'b\'<\/span>,<span class=\"pl-s\">\'d\'<\/span>,<span class=\"pl-s\">\'a\'<\/span>], <span class=\"pl-s1\">dtype<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'category\'<\/span>)\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-en\">astype<\/span>(<span class=\"pl-s\">\'string\'<\/span>)\n\n<span class=\"pl-c\">## Ordering, reordering and sorting<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>(<span class=\"pl-en\">list<\/span>(<span class=\"pl-s\">\'abc\'<\/span>), <span class=\"pl-s1\">dtype<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'category\'<\/span>)\n<span class=\"pl-en\">print<\/span> (<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-s1\">ordered<\/span>)\n<span class=\"pl-s1\">s<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-en\">reorder_categories<\/span>([<span class=\"pl-s\">\'b\'<\/span>,<span class=\"pl-s\">\'c\'<\/span>,<span class=\"pl-s\">\'a\'<\/span>])\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-en\">sort<\/span>()\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-s1\">ordered<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-c1\">False<\/span>\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">category<\/span> <span class=\"pl-s1\">must<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">ordered<\/span> <span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">it<\/span> <span class=\"pl-s1\">to<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">sorted<\/span>\n\n<span class=\"pl-c\"># Renaming categories<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-v\">Series<\/span>(<span class=\"pl-en\">list<\/span>(<span class=\"pl-s\">\'abc\'<\/span>), <span class=\"pl-s1\">dtype<\/span><span class=\"pl-c1\">=<\/span><span class=\"pl-s\">\'category\'<\/span>)\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-s1\">categories<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-c1\">1<\/span>, <span class=\"pl-c1\">2<\/span>, <span class=\"pl-c1\">3<\/span>] <span class=\"pl-c\"># in place<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-en\">rename_categories<\/span>([<span class=\"pl-c1\">4<\/span>,<span class=\"pl-c1\">5<\/span>,<span class=\"pl-c1\">6<\/span>])\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-s1\">using<\/span> <span class=\"pl-s1\">a<\/span> <span class=\"pl-s1\">comprehension<\/span> ...\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-s1\">categories<\/span> <span class=\"pl-c1\">=<\/span> [<span class=\"pl-s\">\'Group \'<\/span> <span class=\"pl-c1\">+<\/span> <span class=\"pl-en\">str<\/span>(<span class=\"pl-s1\">i<\/span>)\n	<span class=\"pl-k\">for<\/span> <span class=\"pl-s1\">i<\/span> <span class=\"pl-c1\">in<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-s1\">categories<\/span>]\n<span class=\"pl-c1\">//<\/span> <span class=\"pl-v\">Trap<\/span>: <span class=\"pl-s1\">categories<\/span> <span class=\"pl-s1\">must<\/span> <span class=\"pl-s1\">be<\/span> <span class=\"pl-s1\">uniquely<\/span> <span class=\"pl-s1\">named<\/span>\n\n<span class=\"pl-c\"># Adding new categories<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-en\">add_categories<\/span>([<span class=\"pl-c1\">4<\/span>])\n\n<span class=\"pl-c\"># Removing categories<\/span>\n<span class=\"pl-s1\">s<\/span> <span class=\"pl-c1\">=<\/span> <span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-en\">remove_categories<\/span>([<span class=\"pl-c1\">4<\/span>])\n<span class=\"pl-s1\">s<\/span>.<span class=\"pl-s1\">cat<\/span>.<span class=\"pl-en\">remove_unused_categories<\/span>() <span class=\"pl-c\">#inplace<\/span><\/pre><\/div>\n<p dir=\"auto\">(<a href=\"#top\">Back to top<\/a>)<\/p>\n<\/article>\n  <\/div>\n\n  <\/div>\n<\/div>\n\n      <\/div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/fabsta/b5b667adcc814f226691f239000bfd50/raw/141e305136690f4925f078e0c366998db5a29a2c/pandas%20cheat%20sheet.md\" style=\"float:right\" class=\"Link--inTextBlock\">view raw<\/a>\n        <a href=\"https://gist.github.com/fabsta/b5b667adcc814f226691f239000bfd50#file-pandas-cheat-sheet-md\" class=\"Link--inTextBlock\">\n          pandas cheat sheet.md\n        <\/a>\n        hosted with &#10084; by <a class=\"Link--inTextBlock\" href=\"https://github.com\">GitHub<\/a>\n      <\/div>\n    <\/div>\n<\/div>\n')
